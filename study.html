<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study Guide - Electron Towers</title>
    <style>
        :root {
            --primary: #1e293b;
            --secondary: #334155;
            --accent: #06b6d4;
            --warning: #f59e0b;
            --success: #10b981;
            --danger: #ef4444;
            --light: #f1f5f9;
            --border: #475569;
            --bg: #0f172a;
            --card: #1e293b;
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --gradient-accent: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --gradient-warning: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --gradient-success: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            --gradient-danger: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--light);
            line-height: 1.6;
            min-height: 100vh;
        }

        /* ======= Custom Logo-Based Emojis ======= */
        .custom-emoji {
            display: inline-block;
            width: 1.2em;
            height: 1.2em;
            vertical-align: middle;
            position: relative;
        }

        .emoji-scientist {
            background: linear-gradient(135deg, #87CEEB 0%, #B0E0E6 100%);
            border-radius: 50%;
            border: 2px solid #8b5cf6;
        }

        .emoji-scientist::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 50%;
            transform: translateX(-50%);
            width: 8px;
            height: 6px;
            background: #8b5cf6;
            border-radius: 4px 4px 2px 2px;
        }

        .emoji-scientist::after {
            content: '';
            position: absolute;
            top: 8px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 4px;
            background: #fbbf24;
            border-radius: 3px;
        }

        .emoji-atom {
            background: white;
            border: 2px solid #8b5cf6;
            border-radius: 50%;
        }

        .emoji-atom::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 3px;
            height: 3px;
            background: #8b5cf6;
            border-radius: 50%;
        }

        .emoji-beaker {
            background: #8b5cf6;
            border: 1px solid white;
            border-radius: 2px 2px 0 0;
            width: 8px;
            height: 10px;
        }

        .emoji-beaker::after {
            content: '';
            position: absolute;
            top: -1px;
            right: 1px;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
        }

        .emoji-syringe {
            background: white;
            border: 1px solid #8b5cf6;
            border-radius: 1px;
            width: 4px;
            height: 12px;
        }

        .emoji-syringe::before {
            content: '';
            position: absolute;
            top: -2px;
            left: 1px;
            width: 2px;
            height: 2px;
            background: #8b5cf6;
            border-radius: 50%;
        }

        .emoji-star {
            background: white;
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
            width: 10px;
            height: 10px;
        }

        .emoji-electron {
            background: #06b6d4;
            border-radius: 50%;
            width: 8px;
            height: 8px;
            box-shadow: 0 0 4px #06b6d4;
        }

        .emoji-nucleus {
            background: #ef4444;
            border-radius: 50%;
            width: 10px;
            height: 10px;
            box-shadow: 0 0 4px #ef4444;
        }

        .emoji-energy {
            background: #f59e0b;
            border-radius: 50%;
            width: 8px;
            height: 8px;
            box-shadow: 0 0 4px #f59e0b;
        }

        .emoji-study {
            background: #10b981;
            border-radius: 50%;
            width: 10px;
            height: 10px;
            box-shadow: 0 0 4px #10b981;
        }

        .emoji-game {
            background: #8b5cf6;
            border-radius: 50%;
            width: 10px;
            height: 10px;
            box-shadow: 0 0 4px #8b5cf6;
        }

        /* ======= Header Styles (Consistent with main app) ======= */
        .app-header {
            background: var(--card);
            border-bottom: 2px solid var(--border);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .header-logo {
            position: relative;
            width: 60px;
            height: 60px;
            flex-shrink: 0;
            background: linear-gradient(135deg, #87CEEB 0%, #B0E0E6 100%);
            border-radius: 15px;
            padding: 6px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.15);
            overflow: hidden;
        }

        .logo-image {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .logo-placeholder {
            width: 100%;
            height: 100%;
            position: relative;
            background: linear-gradient(135deg, #87CEEB 0%, #B0E0E6 100%);
            border-radius: 10px;
        }

        /* Scientist elements */
        .logo-scientist {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .logo-hair-purple {
            position: absolute;
            top: 8px;
            left: 20px;
            width: 20px;
            height: 12px;
            background: #8b5cf6;
            border-radius: 10px 10px 8px 8px;
        }

        .logo-face-skin {
            position: absolute;
            top: 18px;
            left: 22px;
            width: 16px;
            height: 12px;
            background: #fbbf24;
            border-radius: 8px;
        }

        .logo-eyes-blue {
            position: absolute;
            top: 20px;
            left: 24px;
            width: 12px;
            height: 8px;
            display: flex;
            gap: 4px;
        }

        .logo-eyes-blue::before,
        .logo-eyes-blue::after {
            content: '';
            width: 4px;
            height: 4px;
            background: #1e40af;
            border-radius: 50%;
        }

        .logo-glasses-round {
            position: absolute;
            top: 19px;
            left: 21px;
            width: 18px;
            height: 6px;
            border: 2px solid #1e293b;
            border-radius: 6px;
        }

        .logo-smile-friendly {
            position: absolute;
            top: 26px;
            left: 25px;
            width: 8px;
            height: 4px;
            border: 1px solid #dc2626;
            border-top: none;
            border-radius: 0 0 8px 8px;
        }

        .logo-labcoat-white {
            position: absolute;
            top: 30px;
            left: 18px;
            width: 24px;
            height: 14px;
            background: white;
            border-radius: 4px 4px 0 0;
        }

        .logo-tie-purple {
            position: absolute;
            top: 32px;
            left: 26px;
            width: 4px;
            height: 10px;
            background: #8b5cf6;
            border-radius: 2px;
        }

        /* Science elements */
        .logo-science-elements {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .logo-atom-white {
            position: absolute;
            width: 8px;
            height: 8px;
            border: 1px solid white;
            border-radius: 50%;
        }

        .logo-atom-white:nth-child(1) {
            top: 5px;
            left: 5px;
        }

        .logo-atom-white:nth-child(2) {
            top: 5px;
            right: 5px;
        }

        .logo-beaker-purple {
            position: absolute;
            width: 6px;
            height: 8px;
            background: #8b5cf6;
            border-radius: 3px 3px 0 0;
        }

        .logo-beaker-purple:nth-child(3) {
            bottom: 5px;
            left: 5px;
        }

        .logo-beaker-purple:nth-child(4) {
            bottom: 5px;
            right: 5px;
        }

        .logo-syringe-white {
            position: absolute;
            width: 3px;
            height: 10px;
            background: white;
            border: 1px solid #8b5cf6;
            border-radius: 1px;
        }

        .logo-syringe-white:nth-child(5) {
            bottom: 8px;
            left: 15px;
        }

        .logo-syringe-white:nth-child(6) {
            bottom: 8px;
            right: 15px;
        }

        .logo-star-white {
            position: absolute;
            width: 3px;
            height: 3px;
            background: white;
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
        }

        .logo-star-white:nth-child(7) {
            top: 12px;
            left: 12px;
        }

        .logo-star-white:nth-child(8) {
            top: 18px;
            right: 10px;
        }

        .logo-star-white:nth-child(9) {
            bottom: 15px;
            left: 10px;
        }

        .logo-star-white:nth-child(10) {
            bottom: 22px;
            right: 8px;
        }

        .brand-text {
            display: flex;
            flex-direction: column;
        }

        .brand-text h1 {
            color: var(--light);
            font-size: 24px;
            font-weight: 700;
            margin: 0;
        }

        .brand-text .subtitle {
            color: var(--accent);
            font-size: 14px;
            margin: 5px 0 0 0;
            opacity: 0.8;
        }

        .right {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn.ghost {
            background: transparent;
            color: var(--light);
            border: 2px solid var(--border);
        }

        .btn.ghost:hover {
            background: var(--border);
            border-color: var(--accent);
        }

        .btn.primary {
            background: var(--accent);
            color: white;
        }

        .btn.primary:hover {
            background: #0891b2;
            transform: translateY(-2px);
        }

        /* ======= Main Content ======= */
        .main {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .page-title {
            text-align: center;
            margin-bottom: 50px;
        }

        .page-title h1 {
            font-size: 48px;
            color: var(--accent);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
        }

        .page-title p {
            font-size: 20px;
            color: var(--light);
            opacity: 0.8;
        }

        /* ======= Big Tile Design ======= */
        .study-tiles {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        .study-tile {
            background: var(--card);
            border: 2px solid var(--border);
            border-radius: 20px;
            padding: 40px;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .study-tile::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: var(--gradient-primary);
        }

        .study-tile.overview::before {
            background: var(--gradient-primary);
        }

        .study-tile.rules::before {
            background: var(--gradient-accent);
        }

        .study-tile.exceptions::before {
            background: var(--gradient-warning);
        }

        .study-tile.ions::before {
            background: var(--gradient-secondary);
        }

        .study-tile.practice::before {
            background: var(--gradient-success);
        }

        .study-tile.assessment::before {
            background: var(--gradient-danger);
        }

        .study-tile:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: var(--accent);
            box-shadow: 0 20px 40px rgba(6, 182, 212, 0.3);
        }

        .tile-header {
            margin-bottom: 25px;
        }

        .tile-header h2 {
            color: var(--light);
            font-size: 28px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .tile-header p {
            color: var(--light);
            opacity: 0.8;
            font-size: 16px;
            line-height: 1.6;
        }

        .tile-content {
            flex-grow: 1;
        }

        .tile-features {
            list-style: none;
            margin: 20px 0;
        }

        .tile-features li {
            color: var(--light);
            margin-bottom: 12px;
            padding-left: 30px;
            position: relative;
            font-size: 15px;
        }

        .tile-features li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: var(--success);
            font-weight: bold;
            font-size: 18px;
        }

        .tile-actions {
            margin-top: 25px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
        }

        .tile-btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 140px;
            flex-shrink: 0;
            justify-content: center;
        }

        .tile-btn:hover {
            background: #0891b2;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(6, 182, 212, 0.4);
        }

        .tile-btn.secondary {
            background: transparent;
            color: var(--accent);
            border: 2px solid var(--accent);
        }

        .tile-btn.secondary:hover {
            background: var(--accent);
            color: white;
        }

        /* ======= Interactive Elements ======= */
        .interactive-demo {
            background: rgba(30, 41, 59, 0.4);
            border: 1px solid var(--border);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        /* ======= Core Rules Interactive Styles ======= */
        .rule-definitions {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 20px;
        }

        .rule-definition {
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border-left: 4px solid var(--accent);
        }

        .rule-definition h4 {
            margin: 0 0 8px 0;
            font-size: 18px;
        }

        .rule-definition p {
            margin: 0;
            line-height: 1.5;
        }

        .aufbau-demo, .hund-demo, .pauli-demo {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--border-radius);
            padding: 20px;
            margin: 20px 0;
        }

        /* ===== Main App Style Building Structure ===== */
        .building {
            background: rgba(15, 23, 42, 0.3);
            border: 2px solid var(--border);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .floor {
            margin-bottom: 8px;
        }

        .floor-label {
            font-weight: 900;
            color: var(--warning);
            margin-bottom: 4px;
            font-size: 13px;
        }

        .wings {
            display: grid;
            grid-template-columns: 1fr;
            grid-auto-rows: minmax(50px, auto);
            gap: 6px;
            align-items: stretch;
        }

        .wing {
            background: rgba(30, 41, 59, 0.8);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 8px;
            position: relative;
            backdrop-filter: blur(10px);
        }

        .wing-title {
            color: #fff;
            font-size: 12px;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .degenerate-label {
            background: var(--warning);
            color: var(--dark);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: bold;
            text-transform: uppercase;
            margin-left: 8px;
        }

        .units {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .unit {
            width: 120px;
            min-height: 70px;
            background: rgba(30, 41, 59, 0.9);
            border: 2px solid var(--secondary);
            border-radius: 12px;
            padding: 6px;
            position: relative;
            backdrop-filter: blur(10px);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .unit:hover {
            border-color: var(--accent);
            transform: scale(1.02);
        }

        .unit-label {
            position: absolute;
            top: 4px;
            right: 6px;
            font-size: 10px;
            color: var(--warning);
        }

        .slots {
            display: flex;
            gap: 6px;
            margin-top: 18px;
            flex-wrap: wrap;
        }

        .slot {
            width: 34px;
            height: 34px;
            border-radius: 50%;
            background: rgba(15, 23, 42, 0.9);
            border: 2px solid var(--secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #ffffff;
            font-weight: 900;
            font-size: 16px;
            cursor: pointer;
            backdrop-filter: blur(10px);
            min-width: 44px;
            min-height: 44px;
            transition: all 0.3s ease;
        }

        .slot:hover {
            border-color: var(--accent);
            transform: scale(1.1);
        }

        .slot.filled {
            background: var(--success);
            border-color: var(--success);
        }

        .slot.half-filled {
            background: var(--warning);
            border-color: var(--warning);
        }

        .slot.paired {
            background: var(--danger);
            border-color: var(--danger);
        }

        /* Energy ordering: f (highest) → d → p → s (lowest) */
        .floor[data-n="2"] .wing-p { grid-row: 1; }
        .floor[data-n="2"] .wing-s { grid-row: 2; }
        .floor[data-n="3"] .wing-f, .floor[data-n="4"] .wing-f, .floor[data-n="5"] .wing-f, .floor[data-n="6"] .wing-f, .floor[data-n="7"] .wing-f { grid-row: 1; }
        .floor[data-n="3"] .wing-d, .floor[data-n="4"] .wing-d, .floor[data-n="5"] .wing-d, .floor[data-n="6"] .wing-d, .floor[data-n="7"] .wing-d { grid-row: 2; }
        .floor[data-n="3"] .wing-p, .floor[data-n="4"] .wing-p, .floor[data-n="5"] .wing-p, .floor[data-n="6"] .wing-p, .floor[data-n="7"] .wing-p { grid-row: 3; }
        .floor[data-n="3"] .wing-s, .floor[data-n="4"] .wing-s, .floor[data-n="5"] .wing-s, .floor[data-n="6"] .wing-s, .floor[data-n="7"] .wing-s { grid-row: 4; }

        .demo-controls {
            display: flex;
            gap: 12px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .p-orbitals {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 20px;
        }

        .p-orbital-set {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }

        .set-label {
            font-weight: bold;
            color: var(--success);
            min-width: 80px;
            font-size: 16px;
        }

        .orbital-test {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .test-orbital {
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }

        .orbital-label {
            font-weight: bold;
            color: var(--danger);
            margin-bottom: 12px;
            font-size: 16px;
        }

        .electron-count {
            margin-top: 12px;
            color: var(--light);
            font-size: 14px;
        }

        .pauli-feedback {
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-weight: bold;
        }

        .pauli-feedback.success {
            background: rgba(16, 185, 129, 0.2);
            border: 1px solid var(--success);
            color: var(--success);
        }

        .pauli-feedback.error {
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid var(--danger);
            color: var(--danger);
        }

        .understanding-quiz {
            margin: 20px 0;
        }

        .quiz-question {
            margin-bottom: 30px;
            padding: 25px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            border: 1px solid var(--border);
        }

        .quiz-question h4 {
            margin-bottom: 20px;
            color: var(--accent);
            font-size: 18px;
            line-height: 1.4;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 15px;
            width: 100%;
        }

        .quiz-option {
            padding: 15px 20px;
            background: var(--dark);
            border: 2px solid var(--border);
            border-radius: 8px;
            color: var(--light);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-size: 15px;
            width: 100%;
            box-sizing: border-box;
            min-height: 50px;
            display: flex;
            align-items: center;
        }

        .quiz-option:hover {
            background: var(--accent);
            border-color: var(--accent);
        }

        .quiz-option.correct {
            background: var(--success);
            border-color: var(--success);
            color: white;
        }

        .quiz-option.incorrect {
            background: var(--danger);
            border-color: var(--danger);
            color: white;
        }

        .quiz-results {
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            margin-top: 20px;
        }

        .quiz-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .quiz-controls .tile-btn {
            min-width: 140px;
            flex: 0 0 auto;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .orbital.filled, .orbital.half-filled, .orbital.paired {
            animation: pulse 0.5s ease-in-out;
        }

        .interactive-demo h4 {
            color: var(--warning);
            margin-bottom: 15px;
            font-size: 18px;
        }

        .orbital-diagram {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        .orbital {
            width: 60px;
            height: 60px;
            border: 2px solid var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            background: var(--card);
            color: var(--light);
            font-weight: bold;
        }

        .orbital:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(6, 182, 212, 0.4);
        }

        .orbital.filled {
            background: var(--accent);
            color: white;
        }

        .orbital.half-filled {
            background: linear-gradient(90deg, var(--accent) 50%, transparent 50%);
            color: var(--accent);
        }

        /* ======= Footer (Consistent with main app) ======= */
        .app-footer {
            background: var(--card);
            border-top: 2px solid var(--border);
            padding: 30px 20px;
            text-align: center;
            color: var(--light);
            opacity: 0.7;
        }

        /* ======= Responsive Design ======= */
        @media (max-width: 768px) {
            .study-tiles {
                grid-template-columns: 1fr;
            }
            
            .page-title h1 {
                font-size: 36px;
                flex-direction: column;
                gap: 10px;
            }
            
            .study-tile {
                padding: 30px;
                min-height: 250px;
            }
            
            .tile-header h2 {
                font-size: 24px;
            }
            
            .tile-actions {
                flex-direction: column;
            }
            
            .tile-btn {
                width: 100%;
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .main {
                padding: 20px 15px;
            }
            
            .study-tile {
                padding: 25px;
            }
            
            .page-title h1 {
                font-size: 28px;
            }
        }

        /* ======= Detailed Content Styles ======= */
        .content-section {
            margin-bottom: 50px;
        }

        .content-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(30, 41, 59, 0.3);
            border-radius: 20px;
            border: 1px solid var(--border);
        }

        .content-card {
            background: var(--card);
            border: 2px solid var(--border);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            transition: all 0.3s ease;
        }

        .content-card:hover {
            border-color: var(--accent);
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(6, 182, 212, 0.2);
        }

        /* Core Concepts Overview */
        .concepts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .concept-item {
            background: rgba(30, 41, 59, 0.4);
            border: 2px solid var(--border);
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .concept-item:hover {
            border-color: var(--accent);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(6, 182, 212, 0.15);
        }

        .concept-icon {
            background: var(--accent);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 18px;
            flex-shrink: 0;
        }

        .concept-content h4 {
            color: var(--warning);
            margin-bottom: 8px;
            font-size: 16px;
        }

        .concept-content p {
            color: var(--light);
            margin: 0 0 8px 0;
            font-size: 14px;
            line-height: 1.4;
        }

        .concept-preview {
            background: var(--bg);
            color: var(--accent);
            padding: 4px 8px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            font-weight: bold;
            border: 1px solid var(--accent);
        }

        /* Interactive Learning Progress */
        .learning-progress {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 25px 0;
        }

        .progress-visual {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .atom-progress {
            position: relative;
            width: 200px;
            height: 200px;
        }

        .nucleus {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background: radial-gradient(circle, var(--warning), var(--accent));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            border: 3px solid var(--border);
        }

        .nucleus-text {
            color: white;
            font-weight: bold;
            font-size: 14px;
        }

        .electron-shells {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .shell {
            position: absolute;
            border: 2px solid var(--border);
            border-radius: 50%;
            transition: all 0.5s ease;
        }

        .shell-1 {
            top: 20px;
            left: 20px;
            width: 160px;
            height: 160px;
        }

        .shell-2 {
            top: 40px;
            left: 40px;
            width: 120px;
            height: 120px;
        }

        .shell-3 {
            top: 60px;
            left: 60px;
            width: 80px;
            height: 80px;
        }

        .shell.active {
            border-color: var(--accent);
            box-shadow: 0 0 20px rgba(6, 182, 212, 0.3);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% {
                box-shadow: 0 0 20px rgba(6, 182, 212, 0.3);
            }
            50% {
                box-shadow: 0 0 30px rgba(6, 182, 212, 0.6);
            }
        }

        .nucleus.celebrating {
            animation: celebrate 0.6s ease-in-out;
        }

        @keyframes celebrate {
            0%, 100% {
                transform: translate(-50%, -50%) scale(1);
            }
            50% {
                transform: translate(-50%, -50%) scale(1.2);
            }
        }

        .progress-stats {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(30, 41, 59, 0.3);
            border-radius: 10px;
            border: 1px solid var(--border);
        }

        .stat-icon {
            font-size: 24px;
            flex-shrink: 0;
        }

        .stat-content h4 {
            color: var(--light);
            margin: 0 0 5px 0;
            font-size: 14px;
        }

        .stat-value {
            color: var(--accent);
            font-weight: bold;
            font-size: 16px;
        }

        .achievement-unlock {
            margin-top: 30px;
        }

        .achievements-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .achievement-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(30, 41, 59, 0.3);
            border-radius: 10px;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .achievement-item.locked {
            opacity: 0.6;
        }

        .achievement-item.unlocked {
            background: rgba(16, 185, 129, 0.1);
            border-color: var(--success);
        }

        .achievement-icon {
            font-size: 24px;
            flex-shrink: 0;
        }

        .achievement-content h5 {
            color: var(--light);
            margin: 0 0 5px 0;
            font-size: 14px;
        }

        .achievement-content p {
            color: var(--light);
            margin: 0;
            font-size: 12px;
            opacity: 0.8;
        }

        /* Button spacing improvements */
        .button-container {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            justify-content: center;
            flex-wrap: wrap;
            align-items: center;
        }

        .button-container .tile-btn {
            margin: 0;
        }

        /* Single button centering */
        .single-button {
            text-align: center;
            margin-top: 25px;
        }

        .single-button .tile-btn {
            margin: 0 auto;
        }

        /* Content card button spacing */
        .content-card .button-container {
            margin-top: 30px;
        }

        /* Achievement section button spacing */
        .achievement-unlock + .button-container {
            margin-top: 20px;
        }

        /* Responsive button adjustments */
        @media (max-width: 768px) {
            .tile-actions {
                flex-direction: column;
                align-items: stretch;
            }
            
            .tile-btn {
                min-width: 100%;
                margin: 5px 0;
            }
            
            .button-container {
                flex-direction: column;
                align-items: stretch;
            }
            
            .button-container .tile-btn {
                min-width: 100%;
                margin: 5px 0;
            }
            
            .journey-intro {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .journey-path {
                flex-direction: column;
                gap: 10px;
            }
            
            .path-line {
                width: 2px;
                height: 20px;
            }
        }

        @media (max-width: 480px) {
            .tile-btn {
                padding: 10px 20px;
                font-size: 13px;
            }
            
            .concepts-grid,
            .specs-grid,
            .vocabulary-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Specifications Grid */
        .specs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }

        .spec-category {
            background: rgba(30, 41, 59, 0.3);
            border: 2px solid var(--border);
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s ease;
        }

        .spec-category:hover {
            border-color: var(--accent);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(6, 182, 212, 0.15);
        }

        .spec-category h4 {
            margin-bottom: 20px;
            font-weight: 600;
        }

        .spec-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .spec-list li {
            color: var(--light);
            margin-bottom: 12px;
            padding-left: 20px;
            position: relative;
            line-height: 1.5;
        }

        .spec-list li::before {
            content: '•';
            color: var(--accent);
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        /* Vocabulary Grid */
        .vocabulary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .vocab-item {
            background: rgba(30, 41, 59, 0.4);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .vocab-item:hover {
            border-color: var(--accent);
            transform: translateY(-3px);
            box-shadow: 0 8px 16px rgba(6, 182, 212, 0.2);
        }

        .vocab-term {
            color: var(--warning);
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 8px;
        }

        .vocab-preview {
            color: var(--light);
            font-size: 14px;
            line-height: 1.4;
        }

        /* Learning Journey Path */
        .journey-intro {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 25px 0;
        }

        .journey-visual {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .journey-path {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .path-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            opacity: 0.5;
            transition: all 0.3s ease;
        }

        .path-step.active {
            opacity: 1;
        }

        .step-icon {
            width: 50px;
            height: 50px;
            background: var(--border);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--light);
            font-weight: bold;
            font-size: 18px;
            transition: all 0.3s ease;
        }

        .path-step.active .step-icon {
            background: var(--accent);
            color: white;
            box-shadow: 0 0 20px rgba(6, 182, 212, 0.3);
        }

        .step-label {
            color: var(--light);
            font-size: 12px;
            text-align: center;
            font-weight: 500;
        }

        .path-line {
            width: 40px;
            height: 2px;
            background: var(--border);
            transition: all 0.3s ease;
        }

        .path-step.active + .path-line {
            background: var(--accent);
        }

        .journey-description {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .journey-description h4 {
            margin-bottom: 15px;
            font-weight: 600;
        }

        .journey-description p {
            margin-bottom: 25px;
        }






    </style>
</head>
<body>
    <!-- ======= Header (Consistent with main app) ======= -->
    <header class="app-header">
        <div class="brand">
            <div class="header-logo">
                <div class="logo-image">
                    <div class="logo-placeholder">
                        <div class="logo-scientist">
                            <div class="logo-hair-purple"></div>
                            <div class="logo-face-skin"></div>
                            <div class="logo-eyes-blue"></div>
                            <div class="logo-glasses-round"></div>
                            <div class="logo-smile-friendly"></div>
                            <div class="logo-labcoat-white"></div>
                            <div class="logo-tie-purple"></div>
                        </div>
                        <div class="logo-science-elements">
                            <div class="logo-atom-white"></div>
                            <div class="logo-atom-white"></div>
                            <div class="logo-beaker-purple"></div>
                            <div class="logo-beaker-purple"></div>
                            <div class="logo-syringe-white"></div>
                            <div class="logo-syringe-white"></div>
                            <div class="logo-star-white"></div>
                            <div class="logo-star-white"></div>
                            <div class="logo-star-white"></div>
                            <div class="logo-star-white"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="brand-text">
                <h1>Electron Towers</h1>
                <p class="subtitle">v0.16r8 — Study Guide & Learning Resources</p>
            </div>
        </div>
        <div class="right">
            <a href="index.html" class="btn ghost"><span class="custom-emoji emoji-atom"></span> Back to App</a>
            <a href="progress.html" class="btn ghost"><span class="custom-emoji emoji-star"></span> Progress</a>
            <button class="btn primary"><span class="custom-emoji emoji-study"></span> Start Learning</button>
        </div>
    </header>

    <!-- ======= Main Content ======= -->
    <main class="main">
        <div class="page-title">
            <h1>
                <span class="custom-emoji emoji-study"></span>
                Master Electron Configuration
                <span class="custom-emoji emoji-atom"></span>
            </h1>
            <p>Comprehensive study guide for understanding atomic structure and electron behavior</p>
            <div style="text-align: center; margin-top: 20px;">
                <a href="progress.html" class="tile-btn" style="display: inline-block; text-decoration: none;">
                    📊 View Progress Dashboard
                </a>
            </div>
        </div>

        <!-- ======= Big Study Tiles ======= -->
        <div class="study-tiles">
            <!-- Overview Tile -->
            <div class="study-tile overview">
                <div class="tile-header">
                    <h2>
                        <span class="custom-emoji emoji-study"></span>
                        Overview
                    </h2>
                    <p>Master the fundamental principles of electron arrangement in atoms</p>
                </div>
                <div class="tile-content">
                    <ul class="tile-features">
                        <li><strong>Aufbau principle:</strong> Electrons occupy the lowest-energy available subshells first.</li>
                        <li><strong>Hund's rule:</strong> In a set of degenerate orbitals (p, d, f), place one electron in each with the <b>same spin</b> before pairing.</li>
                        <li><strong>Pauli exclusion principle:</strong> Each orbital holds at most two electrons and they must have <b>opposite spins</b> (↑↓).</li>
                        <li><strong>Exceptions:</strong> Special cases like Chromium (Cr) and Copper (Cu)</li>
                        <li><strong>Ion Formation:</strong> How atoms gain or lose electrons to form ions</li>
                        <li><strong>Octet Rule:</strong> Why atoms seek 8 valence electrons for stability</li>
                    </ul>
                </div>
                <div class="tile-actions">
                    <button class="tile-btn" onclick="showOverviewContent()">Learn More</button>
                    <button class="tile-btn secondary" onclick="startOverview()">Begin Journey</button>
                </div>
            </div>

            <!-- Core Rules Tile -->
            <div class="study-tile rules">
                <div class="tile-header">
                    <h2>
                        <span class="custom-emoji emoji-atom"></span>
                        Core Rules
                    </h2>
                    <p>The three fundamental principles that govern electron behavior</p>
                </div>
                <div class="tile-content">
                    <ul class="tile-features">
                        <li><strong>Aufbau principle:</strong> Electrons occupy the lowest-energy available subshells first.</li>
                        <li><strong>Hund's rule:</strong> In a set of degenerate orbitals (p, d, f), place one electron in each with the <b>same spin</b> before pairing.</li>
                        <li><strong>Pauli exclusion principle:</strong> Each orbital holds at most two electrons and they must have <b>opposite spins</b> (↑↓).</li>
                        <li><strong>Energy Order:</strong> 1s → 2s → 2p → 3s → 3p → 4s → 3d → 4p...</li>
                        <li><strong>Diagonal Pattern:</strong> Follow the energy level progression</li>
                    </ul>
                </div>
                <div class="tile-actions">
                    <button class="tile-btn" onclick="showCoreRulesContent()">Learn More</button>
                </div>
            </div>

            <!-- Exceptions Tile -->
            <div class="study-tile exceptions">
                <div class="tile-header">
                    <h2>
                        <span class="custom-emoji emoji-star"></span>
                        Exceptions
                    </h2>
                    <p>Special cases where elements break the standard rules for stability</p>
                </div>
                <div class="tile-content">
                    <ul class="tile-features">
                        <li><strong>Chromium (Cr):</strong> [Ar] 4s¹ 3d⁵ instead of [Ar] 4s² 3d⁴</li>
                        <li><strong>Copper (Cu):</strong> [Ar] 4s¹ 3d¹⁰ instead of [Ar] 4s² 3d⁹</li>
                        <li><strong>Molybdenum (Mo):</strong> [Kr] 5s¹ 4d⁵ (half-filled d-subshell)</li>
                        <li><strong>Silver (Ag):</strong> [Kr] 5s¹ 4d¹⁰ (filled d-subshell)</li>
                        <li><strong>Why Exceptions:</strong> Half-filled and filled subshells provide extra stability</li>
                    </ul>
                </div>
                <div class="tile-actions">
                    <button class="tile-btn" onclick="showSection('exceptions')">Study Exceptions</button>
                    <button class="tile-btn secondary" onclick="explainExceptions()">Learn Why</button>
                </div>
            </div>

            <!-- Ion Formation Tile -->
            <div class="study-tile ions">
                <div class="tile-header">
                    <h2>
                        <span class="custom-emoji emoji-beaker"></span>
                        Ion Formation
                    </h2>
                    <p>How atoms gain or lose electrons to achieve stability</p>
                </div>
                <div class="tile-content">
                    <ul class="tile-features">
                        <li><strong>Cations:</strong> Atoms lose electrons to form positive ions</li>
                        <li><strong>Anions:</strong> Atoms gain electrons to form negative ions</li>
                        <li><strong>Electron Loss Priority:</strong> Highest n value first, then highest l value</li>
                        <li><strong>Octet Rule:</strong> Atoms seek 8 valence electrons for stability</li>
                        <li><strong>Examples:</strong> Na⁺, Ca²⁺, Cl⁻, O²⁻</li>
                    </ul>
                </div>
                <div class="tile-actions">
                    <button class="tile-btn" onclick="showSection('ions')">Study Ions</button>
                    <button class="tile-btn secondary" onclick="ionExamples()">See Examples</button>
                </div>
            </div>

            <!-- Practice Tile -->
            <div class="study-tile practice">
                <div class="tile-header">
                    <h2>
                        <span class="custom-emoji emoji-syringe"></span>
                        Practice
                    </h2>
                    <p>Interactive problems to test your understanding</p>
                </div>
                <div class="tile-content">
                    <ul class="tile-features">
                        <li><strong>Problem 1:</strong> Write electron configuration for Vanadium (V)</li>
                        <li><strong>Problem 2:</strong> Predict ion formed by Calcium (Ca)</li>
                        <li><strong>Problem 3:</strong> Explain why Chromium is an exception</li>
                        <li><strong>Step-by-step:</strong> Solutions with detailed explanations</li>
                        <li><strong>Interactive:</strong> Click to reveal solutions</li>
                    </ul>
                </div>
                <div class="tile-actions">
                    <button class="tile-btn" onclick="showSection('practice')">Start Practice</button>
                    <button class="tile-btn secondary" onclick="showProblems()">View Problems</button>
                </div>
            </div>

            <!-- Assessment Tile -->
            <div class="study-tile assessment">
                <div class="tile-header">
                    <h2>
                        <span class="custom-emoji emoji-nucleus"></span>
                        Assessment
                    </h2>
                    <p>Test your knowledge with interactive quizzes</p>
                </div>
                <div class="tile-content">
                    <ul class="tile-features">
                        <li><strong>3 Questions:</strong> Covering all major concepts</li>
                        <li><strong>Immediate Feedback:</strong> Know right away if you're correct</li>
                        <li><strong>Score Calculation:</strong> Percentage and personalized feedback</li>
                        <li><strong>Reset Option:</strong> Take the quiz multiple times</li>
                        <li><strong>Learning Focus:</strong> Identify areas for improvement</li>
                    </ul>
                </div>
                <div class="tile-actions">
                    <button class="tile-btn" onclick="showSection('assessment')">Take Quiz</button>
                    <button class="tile-btn secondary" onclick="startAssessment()">Begin Test</button>
                </div>
            </div>
        </div>

        <!-- ======= Detailed Content Sections ======= -->
        <div id="detailedContent" style="display: none;">
            <!-- Overview Section -->
            <div id="overviewContent" class="content-section">
                <div class="content-header">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <button class="btn ghost" onclick="hideDetailedContent()" style="display: flex; align-items: center; gap: 8px;">
                            <span class="custom-emoji emoji-atom"></span>
                            ← Back to Tiles
                        </button>
                        <div style="flex: 1; text-align: center;">
                            <h2 style="color: var(--accent); font-size: 36px; margin: 0; display: flex; align-items: center; gap: 15px; justify-content: center;">
                                <span class="custom-emoji emoji-study"></span>
                                Overview - Master Electron Configuration
                            </h2>
                        </div>
                        <div style="width: 120px;"></div> <!-- Spacer for centering -->
                    </div>
                    <p style="color: var(--light); font-size: 18px; margin-bottom: 30px; opacity: 0.8;">
                        Welcome to your comprehensive journey into the world of electron configurations. This overview will introduce you to the fundamental concepts that govern how electrons arrange themselves in atoms.
                    </p>
                </div>

                <!-- Core Concepts Overview -->
                <div class="content-card">
                    <h3 style="color: var(--warning); font-size: 24px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                        <span class="custom-emoji emoji-atom"></span>
                        Core Concepts Overview
                    </h3>
                    <p style="color: var(--light); margin-bottom: 20px; font-style: italic;">
                        Essential principles that govern how electrons arrange themselves in atoms. These are the exact same definitions used in the main app's study and game modes.
                    </p>
                    
                    <div class="concepts-grid">
                        <div class="concept-item" onclick="showConceptDetails('aufbau')">
                            <div class="concept-icon">1</div>
                            <div class="concept-content">
                                <h4>Aufbau principle</h4>
                                <p>Electrons occupy the lowest-energy available subshells first.</p>
                                <div class="concept-preview">1s → 2s → 2p → 3s → 3p → 4s → 3d</div>
                            </div>
                        </div>
                        <div class="concept-item" onclick="showConceptDetails('hund')">
                            <div class="concept-icon">2</div>
                            <div class="concept-content">
                                <h4>Hund's rule</h4>
                                <p>In a set of degenerate orbitals (p, d, f), place one electron in each with the <b>same spin</b> before pairing.</p>
                                <div class="concept-preview">↑ ↑ ↑ (not ↑↓)</div>
                            </div>
                        </div>
                        <div class="concept-item" onclick="showConceptDetails('pauli')">
                            <div class="concept-icon">3</div>
                            <div class="concept-content">
                                <h4>Pauli exclusion principle</h4>
                                <p>Each orbital holds at most two electrons and they must have <b>opposite spins</b> (↑↓).</p>
                                <div class="concept-preview">↑↓ (2 electrons max per orbital)</div>
                            </div>
                        </div>
                        <div class="concept-item" onclick="showConceptDetails('exceptions')">
                            <div class="concept-icon">4</div>
                            <div class="concept-content">
                                <h4>Exceptions</h4>
                                <p>Special cases like Chromium and Copper</p>
                                <div class="concept-preview">Cr: [Ar] 4s¹ 3d⁵</div>
                            </div>
                        </div>
                        <div class="concept-item" onclick="showConceptDetails('ions')">
                            <div class="concept-icon">5</div>
                            <div class="concept-content">
                                <h4>Ion Formation</h4>
                                <p>How atoms gain or lose electrons</p>
                                <div class="concept-preview">Na → Na⁺ + e⁻</div>
                            </div>
                        </div>
                        <div class="concept-item" onclick="showConceptDetails('octet')">
                            <div class="concept-icon">6</div>
                            <div class="concept-content">
                                <h4>Octet Rule</h4>
                                <p>Atoms seek 8 valence electrons for stability</p>
                                <div class="concept-preview">Ne: 1s² 2s² 2p⁶</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Your Learning Journey -->
                <div class="content-card">
                    <h3 style="color: var(--accent); font-size: 24px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                        <span class="custom-emoji emoji-energy"></span>
                        Your Learning Journey
                    </h3>
                    <p style="color: var(--light); margin-bottom: 20px;">
                        Start your journey through electron configuration concepts and track your progress!
                    </p>
                    
                    <div class="journey-intro">
                        <div class="journey-visual">
                            <div class="journey-path">
                                <div class="path-step active" data-step="1">
                                    <div class="step-icon">1</div>
                                    <div class="step-label">Core Concepts</div>
                                </div>
                                <div class="path-line"></div>
                                <div class="path-step" data-step="2">
                                    <div class="step-icon">2</div>
                                    <div class="step-label">Advanced Rules</div>
                                </div>
                                <div class="path-line"></div>
                                <div class="path-step" data-step="3">
                                    <div class="step-icon">3</div>
                                    <div class="step-label">Exceptions</div>
                                </div>
                                <div class="path-line"></div>
                                <div class="path-step" data-step="4">
                                    <div class="step-icon">4</div>
                                    <div class="step-label">Applications</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="journey-description">
                            <h4 style="color: var(--warning); margin-bottom: 15px;">Learning Path</h4>
                            <p style="color: var(--light); line-height: 1.6;">
                                Follow the structured learning path above. Click on concept tiles to learn more and track your progress. 
                                Each step builds upon the previous one, ensuring a solid foundation in electron configuration.
                            </p>
                            <div class="single-button">
                                <button class="tile-btn" onclick="startLearningJourney()">Begin Learning</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Interactive Learning Progress -->
                <div class="content-card">
                    <h3 style="color: var(--warning); font-size: 24px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                        <span class="custom-emoji emoji-star"></span>
                        Your Learning Progress
                    </h3>
                    <p style="color: var(--light); margin-bottom: 20px;">
                        Track your progress through the electron configuration concepts and unlock achievements as you learn!
                    </p>
                    
                    <div class="learning-progress">
                        <div class="progress-visual">
                            <div class="atom-progress">
                                <div class="nucleus" id="nucleusProgress">
                                    <span class="nucleus-text">0%</span>
                                </div>
                                <div class="electron-shells">
                                    <div class="shell shell-1" id="shell1"></div>
                                    <div class="shell shell-2" id="shell2"></div>
                                    <div class="shell shell-3" id="shell3"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="progress-stats">
                            <div class="stat-item">
                                <div class="stat-icon">🎯</div>
                                <div class="stat-content">
                                    <h4>Concepts Mastered</h4>
                                    <span class="stat-value" id="conceptsMastered">0/6</span>
                                </div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-icon">⭐</div>
                                <div class="stat-content">
                                    <h4>Current Streak</h4>
                                    <span class="stat-value" id="currentStreak">0 days</span>
                                </div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-icon">🏆</div>
                                <div class="stat-content">
                                    <h4>Achievement Level</h4>
                                    <span class="stat-value" id="achievementLevel">Beginner</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="achievement-unlock">
                        <h4 style="color: var(--warning); margin-bottom: 15px;">Recent Achievements</h4>
                        <div class="achievements-list" id="achievementsList">
                            <div class="achievement-item locked">
                                <div class="achievement-icon">🔒</div>
                                <div class="achievement-content">
                                    <h5>First Steps</h5>
                                    <p>Complete your first concept</p>
                                </div>
                            </div>
                            <div class="achievement-item locked">
                                <div class="achievement-icon">🔒</div>
                                <div class="achievement-content">
                                    <h5>Halfway There</h5>
                                    <p>Master 3 concepts</p>
                                </div>
                            </div>
                            <div class="achievement-item locked">
                                <div class="achievement-icon">🔒</div>
                                <div class="achievement-content">
                                    <h5>Electron Master</h5>
                                    <p>Complete all concepts</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="button-container">
                        <button class="tile-btn" onclick="resetLearningProgress()">Reset Progress</button>
                        <button class="tile-btn secondary" onclick="exportLearningReport()">Export Report</button>
                    </div>
                </div>

                <!-- Electron Configuration Specifications -->
                <div class="content-card">
                    <h3 style="color: var(--accent); font-size: 24px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                        <span class="custom-emoji emoji-electron"></span>
                        Electron Configuration Specifications
                    </h3>
                    <p style="color: var(--light); margin-bottom: 20px;">
                        Key learning objectives for mastering electron configuration principles
                    </p>
                    
                    <div class="specs-grid">
                        <div class="spec-category">
                            <h4 style="color: var(--warning); margin-bottom: 15px;">📚 Core Principles</h4>
                            <ul class="spec-list">
                                <li>Write electron configurations for elements up to Z=36</li>
                                <li>Understand the Aufbau principle and energy level order</li>
                                <li>Apply Hund's rule to degenerate orbitals</li>
                                <li>Explain the Pauli exclusion principle and opposite spins</li>
                            </ul>
                        </div>
                        
                        <div class="spec-category">
                            <h4 style="color: var(--success); margin-bottom: 15px;">🎯 Advanced Concepts</h4>
                            <ul class="spec-list">
                                <li>Explain exceptions like Cr and Cu configurations</li>
                                <li>Understand ion formation and oxidation states</li>
                                <li>Apply the octet rule to predict stability</li>
                                <li>Relate configuration to periodic trends</li>
                            </ul>
                        </div>
                        
                        <div class="spec-category">
                            <h4 style="color: var(--accent); margin-bottom: 15px;">🔬 Practical Skills</h4>
                            <ul class="spec-list">
                                <li>Use noble gas notation for configurations</li>
                                <li>Predict chemical properties from configurations</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Key Vocabulary -->
                <div class="content-card">
                    <h3 style="color: var(--warning); font-size: 24px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                        <span class="custom-emoji emoji-beaker"></span>
                        Key Vocabulary
                    </h3>
                    <p style="color: var(--light); margin-bottom: 20px;">
                        Essential terms and definitions for electron configuration
                    </p>
                    
                    <div class="vocabulary-grid">
                        <div class="vocab-item" onclick="showVocabDefinition('aufbau')">
                            <div class="vocab-term">Aufbau Principle</div>
                            <div class="vocab-preview">Electrons fill orbitals in order of increasing energy</div>
                        </div>
                        <div class="vocab-item" onclick="showVocabDefinition('hund')">
                            <div class="vocab-term">Hund's Rule</div>
                            <div class="vocab-preview">Electrons prefer parallel spins in degenerate orbitals</div>
                        </div>
                        <div class="vocab-item" onclick="showVocabDefinition('pauli')">
                            <div class="vocab-term">Pauli Exclusion</div>
                            <div class="vocab-preview">No two electrons can have identical quantum numbers; opposite spins required</div>
                        </div>
                        <div class="vocab-item" onclick="showVocabDefinition('degenerate')">
                            <div class="vocab-term">Degenerate Orbitals</div>
                            <div class="vocab-preview">Orbitals with the same energy level</div>
                        </div>
                        <div class="vocab-item" onclick="showVocabDefinition('valence')">
                            <div class="vocab-term">Valence Electrons</div>
                            <div class="vocab-preview">Electrons in the outermost shell</div>
                        </div>
                        <div class="vocab-item" onclick="showVocabDefinition('octet')">
                            <div class="vocab-term">Octet Rule</div>
                            <div class="vocab-preview">Atoms seek 8 valence electrons for stability</div>
                        </div>
                    </div>
                </div>

                <!-- Why It Matters -->
                <div class="content-card">
                    <h3 style="color: var(--success); font-size: 24px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                        <span class="custom-emoji emoji-beaker"></span>
                        Why Electron Configurations Matter
                    </h3>
                    <p style="color: var(--light); margin-bottom: 20px;">
                        Electron configurations determine an element's chemical properties, reactivity, and bonding behavior. Understanding these principles is essential for:
                    </p>
                    <div class="importance-grid">
                        <div class="importance-item">
                            <div class="importance-icon">🧪</div>
                            <h4>Chemical Reactions</h4>
                            <p>Predict how elements will react with each other</p>
                        </div>
                        <div class="importance-item">
                            <div class="importance-icon">📊</div>
                            <h4>Periodic Trends</h4>
                            <p>Understand patterns across the periodic table</p>
                        </div>
                        <div class="importance-item">
                            <div class="importance-icon">🔗</div>
                            <h4>Bonding Patterns</h4>
                            <p>Explain how atoms form molecules</p>
                        </div>
                        <div class="importance-item">
                            <div class="importance-icon">🏗️</div>
                            <h4>Material Design</h4>
                            <p>Create new materials with desired properties</p>
                        </div>
                    </div>
                </div>

                <!-- Progress Tracker -->
                <div class="content-card">
                    <h3 style="color: var(--warning); font-size: 24px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                        <span class="custom-emoji emoji-energy"></span>
                        Your Learning Progress
                    </h3>
                    <div class="progress-tracker">
                        <div class="progress-item" data-completed="false">
                            <span class="progress-checkbox">☐</span>
                            <span class="progress-text">Complete Overview</span>
                        </div>
                        <div class="progress-item" data-completed="false">
                            <span class="progress-checkbox">☐</span>
                            <span class="progress-text">Build 3 different atoms</span>
                        </div>
                        <div class="progress-item" data-completed="false">
                            <span class="progress-checkbox">☐</span>
                            <span class="progress-text">Understand learning objectives</span>
                        </div>
                        <div class="progress-item" data-completed="false">
                            <span class="progress-checkbox">☐</span>
                            <span class="progress-text">Explore importance section</span>
                        </div>
                    </div>
                    <button class="tile-btn" onclick="markProgress()">Mark Progress</button>
                </div>
            </div>
        </div>

        <!-- ======= Call to Action ======= -->
        <div style="text-align: center; margin: 50px 0;">
            <h2 style="color: var(--accent); margin-bottom: 20px; font-size: 32px;">
                <span class="custom-emoji emoji-game"></span>
                Ready to Practice?
                <span class="custom-emoji emoji-study"></span>
            </h2>
            <p style="color: var(--light); font-size: 18px; margin-bottom: 30px; max-width: 600px; margin-left: auto; margin-right: auto;">
                Put your knowledge to the test with interactive electron configuration challenges. Build atoms step by step and master the principles through hands-on experience.
            </p>
            <div style="display: flex; gap: 20px; justify-content: center; flex-wrap: wrap;">
                <a href="index.html" class="btn primary" style="font-size: 16px; padding: 15px 30px;">
                    <span class="custom-emoji emoji-game"></span>
                    Start Interactive App
                </a>
                <button class="btn ghost" style="font-size: 16px; padding: 15px 30px;">
                    <span class="custom-emoji emoji-study"></span>
                    Take Practice Quiz
                </button>
            </div>
        </div>

        <!-- Core Rules Section -->
        <div id="coreRulesContent" class="content-section" style="display: none;">
            <div class="content-header">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <button class="btn ghost" onclick="hideDetailedContent()" style="display: flex; align-items: center; gap: 8px;">
                        <span class="custom-emoji emoji-atom"></span>
                        ← Back to Tiles
                    </button>
                    <div style="flex: 1; text-align: center;">
                        <h2 style="color: var(--accent); font-size: 36px; margin: 0; display: flex; align-items: center; gap: 15px; justify-content: center;">
                            <span class="custom-emoji emoji-atom"></span>
                            Core Rules - Interactive Learning
                        </h2>
                    </div>
                    <div style="width: 120px;"></div> <!-- Spacer for centering -->
                </div>
                <p style="color: var(--light); font-size: 18px; margin-bottom: 30px; opacity: 0.8;">
                    Master the three fundamental principles through interactive demonstrations. These are the exact same rules used in the main app's study and game modes.
                </p>
            </div>

            <!-- Learning Objectives Section -->
            <div class="objectives-section" style="background: rgba(15, 23, 42, 0.3); border: 2px solid var(--border); border-radius: 15px; padding: 25px; margin-bottom: 30px;">
                <h3 style="color: var(--accent); font-size: 24px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <span class="custom-emoji emoji-target"></span>
                    Learning Objectives
                </h3>
                <p style="color: var(--light); margin-bottom: 20px; font-style: italic;">
                    What you will learn and master in this Core Rules section
                </p>
                
                <div class="objectives-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                    
                    <div class="objective-card" style="background: rgba(30, 41, 59, 0.5); border: 2px solid var(--success); border-radius: 12px; padding: 20px;">
                        <h4 style="color: var(--success); margin-bottom: 15px; font-size: 18px;">🎯 Aufbau Principle</h4>
                        <ul style="color: var(--light); margin: 0; padding-left: 20px;">
                            <li style="margin-bottom: 8px;">Understand that electrons fill lowest energy orbitals first</li>
                            <li style="margin-bottom: 8px;">Learn the correct filling order: 1s → 2s → 2p → 3s → 3p → 4s → 3d...</li>
                            <li style="margin-bottom: 8px;">Recognize energy levels from n=1 (bottom) to n=7 (top)</li>
                            <li>Apply the principle to predict electron configurations</li>
                        </ul>
                    </div>

                    <div class="objective-card" style="background: rgba(30, 41, 59, 0.5); border: 2px solid var(--warning); border-radius: 12px; padding: 20px;">
                        <h4 style="color: var(--warning); margin-bottom: 15px; font-size: 18px;">🎯 Hund's Rule</h4>
                        <ul style="color: var(--light); margin: 0; padding-left: 20px;">
                            <li style="margin-bottom: 8px;">Understand that electrons spread out in degenerate orbitals first</li>
                            <li style="margin-bottom: 8px;">Learn that all unpaired electrons have the same spin (↑)</li>
                            <li style="margin-bottom: 8px;">Recognize that pairing only occurs after all orbitals have one electron</li>
                            <li>Apply the rule to p, d, and f subshells</li>
                        </ul>
                    </div>

                    <div class="objective-card" style="background: rgba(30, 41, 59, 0.5); border: 2px solid var(--accent); border-radius: 12px; padding: 20px;">
                        <h4 style="color: var(--accent); margin-bottom: 15px; font-size: 18px;">🎯 Pauli Exclusion Principle</h4>
                        <ul style="color: var(--light); margin: 0; padding-left: 20px;">
                            <li style="margin-bottom: 8px;">Understand that each orbital can hold maximum 2 electrons</li>
                            <li style="margin-bottom: 8px;">Learn that paired electrons must have opposite spins (↑↓)</li>
                            <li style="margin-bottom: 8px;">Recognize the difference between filled and paired orbitals</li>
                            <li>Apply the principle to prevent orbital overcrowding</li>
                        </ul>
                    </div>

                    <div class="objective-card" style="background: rgba(30, 41, 59, 0.5); border: 2px solid var(--danger); border-radius: 12px; padding: 20px;">
                        <h4 style="color: var(--danger); margin-bottom: 15px; font-size: 18px;">🎯 Interactive Application</h4>
                        <ul style="color: var(--light); margin: 0; padding-left: 20px;">
                            <li style="margin-bottom: 8px;">Use interactive demonstrations to visualize each rule</li>
                            <li style="margin-bottom: 8px;">Practice applying all three rules together</li>
                            <li style="margin-bottom: 8px;">Test understanding through quizzes and assessments</li>
                            <li>Master the vocabulary and terminology</li>
                        </ul>
                    </div>

                </div>
            </div>

            <!-- Essential Vocabulary Section -->
            <div class="vocabulary-section" style="background: rgba(15, 23, 42, 0.3); border: 2px solid var(--border); border-radius: 15px; padding: 25px; margin-bottom: 30px;">
                <h3 style="color: var(--accent); font-size: 24px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <span class="custom-emoji emoji-book"></span>
                    Essential Vocabulary
                </h3>
                <p style="color: var(--light); margin-bottom: 20px; font-style: italic;">
                    Key terms used in the Core Rules demonstrations and quizzes
                </p>
                
                <div class="vocabulary-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                    
                    <!-- Core Rules Terms -->
                    <div class="vocab-card" style="background: rgba(30, 41, 59, 0.5); border: 2px solid var(--border); border-radius: 12px; padding: 20px;">
                        <h4 style="color: var(--accent); margin-bottom: 15px; font-size: 18px;">🎯 Core Rules</h4>
                        <div class="vocab-item" style="margin-bottom: 12px;">
                            <strong style="color: var(--success);">Aufbau Principle:</strong> 
                            <span style="color: var(--light);">Electrons fill lowest energy orbitals first</span>
                        </div>
                        <div class="vocab-item" style="margin-bottom: 12px;">
                            <strong style="color: var(--warning);">Hund's Rule:</strong> 
                            <span style="color: var(--light);">Electrons spread out in degenerate orbitals before pairing</span>
                        </div>
                        <div class="vocab-item" style="margin-bottom: 12px;">
                            <strong style="color: var(--accent);">Pauli Exclusion:</strong> 
                            <span style="color: var(--light);">Maximum 2 electrons per orbital with opposite spins</span>
                        </div>
                        <div class="vocab-item">
                            <strong style="color: var(--danger);">Ground State:</strong> 
                            <span style="color: var(--light);">Lowest energy electron configuration</span>
                        </div>
                    </div>

                    <!-- Orbital Structure -->
                    <div class="vocab-card" style="background: rgba(30, 41, 59, 0.5); border: 2px solid var(--border); border-radius: 12px; padding: 20px;">
                        <h4 style="color: var(--accent); margin-bottom: 15px; font-size: 18px;">🌌 Orbital Structure</h4>
                        <div class="vocab-item" style="margin-bottom: 12px;">
                            <strong style="color: var(--success);">Energy Level (n):</strong> 
                            <span style="color: var(--light);">Shell number (1, 2, 3, 4, 5, 6, 7)</span>
                        </div>
                        <div class="vocab-item" style="margin-bottom: 12px;">
                            <strong style="color: var(--warning);">Subshell:</strong> 
                            <span style="color: var(--light);">s, p, d, f regions within each shell</span>
                        </div>
                        <div class="vocab-item" style="margin-bottom: 12px;">
                            <strong style="color: var(--accent);">Orbital:</strong> 
                            <span style="color: var(--light);">Individual electron space (s=1, p=3, d=5, f=7)</span>
                        </div>
                        <div class="vocab-item">
                            <strong style="color: var(--danger);">Degenerate Orbitals:</strong> 
                            <span style="color: var(--light);">Orbitals with same energy (p, d, f sets)</span>
                        </div>
                    </div>

                    <!-- Electron Properties -->
                    <div class="vocab-card" style="background: rgba(30, 41, 59, 0.5); border: 2px solid var(--border); border-radius: 12px; padding: 20px;">
                        <h4 style="color: var(--accent); margin-bottom: 15px; font-size: 18px;">⚡ Electron Properties</h4>
                        <div class="vocab-item" style="margin-bottom: 12px;">
                            <strong style="color: var(--success);">Electron Spin:</strong> 
                            <span style="color: var(--light);">↑ (up) or ↓ (down) - intrinsic property</span>
                        </div>
                        <div class="vocab-item" style="margin-bottom: 12px;">
                            <strong style="color: var(--warning);">Paired Electrons:</strong> 
                            <span style="color: var(--light);">Two electrons with opposite spins in same orbital</span>
                        </div>
                        <div class="vocab-item" style="margin-bottom: 12px;">
                            <strong style="color: var(--accent);">Unpaired Electrons:</strong> 
                            <span style="color: var(--light);">Single electrons in orbitals (same spin)</span>
                        </div>
                        <div class="vocab-item" style="margin-bottom: 12px;">
                            <strong style="color: var(--danger);">Lone Pair:</strong> 
                            <span style="color: var(--light);">Pair of electrons not involved in bonding</span>
                        </div>
                        <div class="vocab-item">
                            <strong style="color: var(--success);">Filling Order:</strong> 
                            <span style="color: var(--light);">Sequence: 1s→2s→2p→3s→3p→4s→3d→4p→5s...</span>
                        </div>
                    </div>

                    <!-- Interactive Terms -->
                    <div class="vocab-card" style="background: rgba(30, 41, 59, 0.5); border: 2px solid var(--border); border-radius: 12px; padding: 20px;">
                        <h4 style="color: var(--accent); margin-bottom: 15px; font-size: 18px;">🎮 Interactive Terms</h4>
                        <div class="vocab-item" style="margin-bottom: 12px;">
                            <strong style="color: var(--success);">Filled Orbital:</strong> 
                            <span style="color: var(--light);">Orbital with 2 electrons (↑↓)</span>
                        </div>
                        <div class="vocab-item" style="margin-bottom: 12px;">
                            <strong style="color: var(--warning);">Half-Filled:</strong> 
                            <span style="color: var(--light);">Orbital with 1 electron (↑)</span>
                        </div>
                        <div class="vocab-item" style="margin-bottom: 12px;">
                            <strong style="color: var(--accent);">Empty Orbital:</strong> 
                            <span style="color: var(--light);">Orbital with 0 electrons</span>
                        </div>
                        <div class="vocab-item">
                            <strong style="color: var(--danger);">Electron Configuration:</strong> 
                            <span style="color: var(--light);">How electrons are arranged in orbitals</span>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Official Rule Definitions -->
            <div class="content-card">
                <h3 style="color: var(--accent); font-size: 24px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <span class="custom-emoji emoji-study"></span>
                    Official Rule Definitions
                </h3>
                <p style="color: var(--light); margin-bottom: 20px; font-style: italic;">
                    These are the exact definitions used in the main app's study and game modes:
                </p>
                
                <div class="rule-definitions">
                    <div class="rule-definition">
                        <h4 style="color: var(--warning); margin-bottom: 10px;">1. Aufbau principle</h4>
                        <p style="color: var(--light); margin-bottom: 15px;">Electrons occupy the lowest-energy available subshells first.</p>
                    </div>
                    
                    <div class="rule-definition">
                        <h4 style="color: var(--success); margin-bottom: 10px;">2. Hund's rule</h4>
                        <p style="color: var(--light); margin-bottom: 15px;">In a set of degenerate orbitals (p, d, f), place one electron in each with the <b>same spin</b> before pairing.</p>
                    </div>
                    
                    <div class="rule-definition">
                        <h4 style="color: var(--danger); margin-bottom: 10px;">3. Pauli exclusion principle</h4>
                        <p style="color: var(--light); margin-bottom: 15px;">Each orbital holds at most two electrons and they must have <b>opposite spins</b> (↑↓).</p>
                    </div>
                </div>
            </div>

            <!-- Interactive Aufbau Sequence -->
            <div class="content-card">
                <h3 style="color: var(--warning); font-size: 24px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <span class="custom-emoji emoji-energy"></span>
                    Interactive Aufbau Sequence
                </h3>
                <p style="color: var(--light); margin-bottom: 20px;">
                    Watch electrons fill orbitals in order of increasing energy. Click the buttons to see the sequence in action!
                </p>
                
                                    <div class="aufbau-demo">
                        <div class="building" id="aufbauBuilding">
                                            <!-- Shell n=7 (Highest Energy - Top) -->
                <div class="floor" data-n="7">
                    <div class="floor-label">Shell n=7 (Highest Energy)</div>
                    <div class="wings">
                        <div class="wing wing-p" data-sub="7p">
                            <div class="wing-title">7p wing — <span class="mini">ℓ=1 (p)</span> <span class="degenerate-label">DEGENERATE</span></div>
                            <div class="units">
                                <div class="unit" data-wing="7p" data-index="0">
                                    <div class="unit-label">7px</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="7p-1"></div>
                                        <div class="slot" data-slot="1" data-orbital="7p-2"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="7p" data-index="1">
                                    <div class="unit-label">7py</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="7p-3"></div>
                                        <div class="slot" data-slot="1" data-orbital="7p-4"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="7p" data-index="2">
                                    <div class="unit-label">7pz</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="7p-5"></div>
                                        <div class="slot" data-slot="1" data-orbital="7p-6"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="wing wing-s" data-sub="7s">
                            <div class="wing-title">7s wing — <span class="mini">ℓ=0 (s)</span></div>
                            <div class="units">
                                <div class="unit" data-wing="7s" data-index="0">
                                    <div class="unit-label">7s</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="7s-1"></div>
                                        <div class="slot" data-slot="1" data-orbital="7s-2"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                            
                                            <!-- Shell n=6 -->
                <div class="floor" data-n="6">
                    <div class="floor-label">Shell n=6</div>
                    <div class="wings">
                        <div class="wing wing-d" data-sub="6d">
                            <div class="wing-title">6d wing — <span class="mini">ℓ=2 (d)</span> <span class="degenerate-label">DEGENERATE</span></div>
                            <div class="units">
                                <div class="unit" data-wing="6d" data-index="0">
                                    <div class="unit-label">6d₁</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="6d-1"></div>
                                        <div class="slot" data-slot="1" data-orbital="6d-2"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="6d" data-index="1">
                                    <div class="unit-label">6d₂</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="6d-3"></div>
                                        <div class="slot" data-slot="1" data-orbital="6d-4"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="6d" data-index="2">
                                    <div class="unit-label">6d₃</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="6d-5"></div>
                                        <div class="slot" data-slot="1" data-orbital="6d-6"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="6d" data-index="3">
                                    <div class="unit-label">6d₄</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="6d-7"></div>
                                        <div class="slot" data-slot="1" data-orbital="6d-8"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="6d" data-index="4">
                                    <div class="unit-label">6d₅</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="6d-9"></div>
                                        <div class="slot" data-slot="1" data-orbital="6d-10"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="wing wing-p" data-sub="6p">
                            <div class="wing-title">6p wing — <span class="mini">ℓ=1 (p)</span> <span class="degenerate-label">DEGENERATE</span></div>
                            <div class="units">
                                <div class="unit" data-wing="6p" data-index="0">
                                    <div class="unit-label">6px</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="6p-1"></div>
                                        <div class="slot" data-slot="1" data-orbital="6p-2"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="6p" data-index="1">
                                    <div class="unit-label">6py</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="6p-3"></div>
                                        <div class="slot" data-slot="1" data-orbital="6p-4"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="6p" data-index="2">
                                    <div class="unit-label">6pz</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="6p-5"></div>
                                        <div class="slot" data-slot="1" data-orbital="6p-6"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="wing wing-s" data-sub="6s">
                            <div class="wing-title">6s wing — <span class="mini">ℓ=0 (s)</span></div>
                            <div class="units">
                                <div class="unit" data-wing="6s" data-index="0">
                                    <div class="unit-label">6s</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="6s-1"></div>
                                        <div class="slot" data-slot="1" data-orbital="6s-2"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                            
                                            <!-- Shell n=5 -->
                <div class="floor" data-n="5">
                    <div class="floor-label">Shell n=5</div>
                    <div class="wings">
                        <div class="wing wing-f" data-sub="5f">
                            <div class="wing-title">5f wing — <span class="mini">ℓ=3 (f)</span> <span class="degenerate-label">DEGENERATE</span></div>
                            <div class="units">
                                <div class="unit" data-wing="5f" data-index="0">
                                    <div class="unit-label">5f₁</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="5f-1"></div>
                                        <div class="slot" data-slot="1" data-orbital="5f-2"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="5f" data-index="1">
                                    <div class="unit-label">5f₂</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="5f-3"></div>
                                        <div class="slot" data-slot="1" data-orbital="5f-4"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="5f" data-index="2">
                                    <div class="unit-label">5f₃</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="5f-5"></div>
                                        <div class="slot" data-slot="1" data-orbital="5f-6"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="5f" data-index="3">
                                    <div class="unit-label">5f₄</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="5f-7"></div>
                                        <div class="slot" data-slot="1" data-orbital="5f-8"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="5f" data-index="4">
                                    <div class="unit-label">5f₅</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="5f-9"></div>
                                        <div class="slot" data-slot="1" data-orbital="5f-10"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="5f" data-index="5">
                                    <div class="unit-label">5f₆</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="5f-11"></div>
                                        <div class="slot" data-slot="1" data-orbital="5f-12"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="5f" data-index="6">
                                    <div class="unit-label">5f₇</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="5f-13"></div>
                                        <div class="slot" data-slot="1" data-orbital="5f-14"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="wing wing-d" data-sub="5d">
                            <div class="wing-title">5d wing — <span class="mini">ℓ=2 (d)</span> <span class="degenerate-label">DEGENERATE</span></div>
                            <div class="units">
                                <div class="unit" data-wing="5d" data-index="0">
                                    <div class="unit-label">5d₁</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="5d-1"></div>
                                        <div class="slot" data-slot="1" data-orbital="5d-2"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="5d" data-index="1">
                                    <div class="unit-label">5d₂</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="5d-3"></div>
                                        <div class="slot" data-slot="1" data-orbital="5d-4"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="5d" data-index="2">
                                    <div class="unit-label">5d₃</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="5d-5"></div>
                                        <div class="slot" data-slot="1" data-orbital="5d-6"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="5d" data-index="3">
                                    <div class="unit-label">5d₄</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="5d-7"></div>
                                        <div class="slot" data-slot="1" data-orbital="5d-8"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="5d" data-index="4">
                                    <div class="unit-label">5d₅</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="5d-9"></div>
                                        <div class="slot" data-slot="1" data-orbital="5d-10"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="wing wing-p" data-sub="5p">
                            <div class="wing-title">5p wing — <span class="mini">ℓ=1 (p)</span> <span class="degenerate-label">DEGENERATE</span></div>
                            <div class="units">
                                <div class="unit" data-wing="5p" data-index="0">
                                    <div class="unit-label">5px</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="5p-1"></div>
                                        <div class="slot" data-slot="1" data-orbital="5p-2"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="5p" data-index="1">
                                    <div class="unit-label">5py</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="5p-3"></div>
                                        <div class="slot" data-slot="1" data-orbital="5p-4"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="5p" data-index="2">
                                    <div class="unit-label">5pz</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="5p-5"></div>
                                        <div class="slot" data-slot="1" data-orbital="5p-6"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="wing wing-s" data-sub="5s">
                            <div class="wing-title">5s wing — <span class="mini">ℓ=0 (s)</span></div>
                            <div class="units">
                                <div class="unit" data-wing="5s" data-index="0">
                                    <div class="unit-label">5s</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="5s-1"></div>
                                        <div class="slot" data-slot="1" data-orbital="5s-2"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                            
                                            <!-- Shell n=4 -->
                <div class="floor" data-n="4">
                    <div class="floor-label">Shell n=4</div>
                    <div class="wings">
                        <div class="wing wing-f" data-sub="4f">
                            <div class="wing-title">4f wing — <span class="mini">ℓ=3 (f)</span> <span class="degenerate-label">DEGENERATE</span></div>
                            <div class="units">
                                <div class="unit" data-wing="4f" data-index="0">
                                    <div class="unit-label">4f₁</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="4f-1"></div>
                                        <div class="slot" data-slot="1" data-orbital="4f-2"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="4f" data-index="1">
                                    <div class="unit-label">4f₂</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="4f-3"></div>
                                        <div class="slot" data-slot="1" data-orbital="4f-4"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="4f" data-index="2">
                                    <div class="unit-label">4f₃</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="4f-5"></div>
                                        <div class="slot" data-slot="1" data-orbital="4f-6"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="4f" data-index="3">
                                    <div class="unit-label">4f₄</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="4f-7"></div>
                                        <div class="slot" data-slot="1" data-orbital="4f-8"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="4f" data-index="4">
                                    <div class="unit-label">4f₅</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="4f-9"></div>
                                        <div class="slot" data-slot="1" data-orbital="4f-10"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="4f" data-index="5">
                                    <div class="unit-label">4f₆</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="4f-11"></div>
                                        <div class="slot" data-slot="1" data-orbital="4f-12"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="4f" data-index="6">
                                    <div class="unit-label">4f₇</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="4f-13"></div>
                                        <div class="slot" data-slot="1" data-orbital="4f-14"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="wing wing-d" data-sub="4d">
                            <div class="wing-title">4d wing — <span class="mini">ℓ=2 (d)</span> <span class="degenerate-label">DEGENERATE</span></div>
                            <div class="units">
                                <div class="unit" data-wing="4d" data-index="0">
                                    <div class="unit-label">4d₁</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="4d-1"></div>
                                        <div class="slot" data-slot="1" data-orbital="4d-2"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="4d" data-index="1">
                                    <div class="unit-label">4d₂</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="4d-3"></div>
                                        <div class="slot" data-slot="1" data-orbital="4d-4"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="4d" data-index="2">
                                    <div class="unit-label">4d₃</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="4d-5"></div>
                                        <div class="slot" data-slot="1" data-orbital="4d-6"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="4d" data-index="3">
                                    <div class="unit-label">4d₄</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="4d-7"></div>
                                        <div class="slot" data-slot="1" data-orbital="4d-8"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="4d" data-index="4">
                                    <div class="unit-label">4d₅</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="4d-9"></div>
                                        <div class="slot" data-slot="1" data-orbital="4d-10"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="wing wing-p" data-sub="4p">
                            <div class="wing-title">4p wing — <span class="mini">ℓ=1 (p)</span> <span class="degenerate-label">DEGENERATE</span></div>
                            <div class="units">
                                <div class="unit" data-wing="4p" data-index="0">
                                    <div class="unit-label">4px</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="4p-1"></div>
                                        <div class="slot" data-slot="1" data-orbital="4p-2"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="4p" data-index="1">
                                    <div class="unit-label">4py</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="4p-3"></div>
                                        <div class="slot" data-slot="1" data-orbital="4p-4"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="4p" data-index="2">
                                    <div class="unit-label">4pz</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="4p-5"></div>
                                        <div class="slot" data-slot="1" data-orbital="4p-6"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="wing wing-s" data-sub="4s">
                            <div class="wing-title">4s wing — <span class="mini">ℓ=0 (s)</span></div>
                            <div class="units">
                                <div class="unit" data-wing="4s" data-index="0">
                                    <div class="unit-label">4s</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="4s-1"></div>
                                        <div class="slot" data-slot="1" data-orbital="4s-2"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                            
                                            <!-- Shell n=3 -->
                <div class="floor" data-n="3">
                    <div class="floor-label">Shell n=3</div>
                    <div class="wings">
                        <div class="wing wing-d" data-sub="3d">
                            <div class="wing-title">3d wing — <span class="mini">ℓ=2 (d)</span> <span class="degenerate-label">DEGENERATE</span></div>
                            <div class="units">
                                <div class="unit" data-wing="3d" data-index="0">
                                    <div class="unit-label">3d₁</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="3d-1"></div>
                                        <div class="slot" data-slot="1" data-orbital="3d-2"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="3d" data-index="1">
                                    <div class="unit-label">3d₂</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="3d-3"></div>
                                        <div class="slot" data-slot="1" data-orbital="3d-4"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="3d" data-index="2">
                                    <div class="unit-label">3d₃</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="3d-5"></div>
                                        <div class="slot" data-slot="1" data-orbital="3d-6"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="3d" data-index="3">
                                    <div class="unit-label">3d₄</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="3d-7"></div>
                                        <div class="slot" data-slot="1" data-orbital="3d-8"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="3d" data-index="4">
                                    <div class="unit-label">3d₅</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="3d-9"></div>
                                        <div class="slot" data-slot="1" data-orbital="3d-10"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="wing wing-p" data-sub="3p">
                            <div class="wing-title">3p wing — <span class="mini">ℓ=1 (p)</span> <span class="degenerate-label">DEGENERATE</span></div>
                            <div class="units">
                                <div class="unit" data-wing="3p" data-index="0">
                                    <div class="unit-label">3px</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="3p-1"></div>
                                        <div class="slot" data-slot="1" data-orbital="3p-2"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="3p" data-index="1">
                                    <div class="unit-label">3py</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="3p-3"></div>
                                        <div class="slot" data-slot="1" data-orbital="3p-4"></div>
                                    </div>
                                </div>
                                <div class="unit" data-wing="3p" data-index="2">
                                    <div class="unit-label">3pz</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="3p-5"></div>
                                        <div class="slot" data-slot="1" data-orbital="3p-6"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="wing wing-s" data-sub="3s">
                            <div class="wing-title">3s wing — <span class="mini">ℓ=0 (s)</span></div>
                            <div class="units">
                                <div class="unit" data-wing="3s" data-index="0">
                                    <div class="unit-label">3s</div>
                                    <div class="slots">
                                        <div class="slot" data-slot="0" data-orbital="3s-1"></div>
                                        <div class="slot" data-slot="1" data-orbital="3s-2"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                            
                            <!-- Shell n=2 -->
                            <div class="floor" data-n="2">
                                <div class="floor-label">Shell n=2</div>
                                <div class="wings">
                                    <div class="wing wing-p" data-sub="2p">
                                        <div class="wing-title">2p wing — <span class="mini">ℓ=1 (p)</span> <span class="degenerate-label">DEGENERATE</span></div>
                                        <div class="units">
                                            <div class="unit" data-wing="2p" data-index="0">
                                                <div class="unit-label">2px</div>
                                                <div class="slots">
                                                    <div class="slot" data-slot="0" data-orbital="2p-1"></div>
                                                    <div class="slot" data-slot="1" data-orbital="2p-2"></div>
                                                </div>
                                            </div>
                                            <div class="unit" data-wing="2p" data-index="1">
                                                <div class="unit-label">2py</div>
                                                <div class="slots">
                                                    <div class="slot" data-slot="0" data-orbital="2p-3"></div>
                                                    <div class="slot" data-slot="1" data-orbital="2p-4"></div>
                                                </div>
                                            </div>
                                            <div class="unit" data-wing="2p" data-index="2">
                                                <div class="unit-label">2pz</div>
                                                <div class="slots">
                                                    <div class="slot" data-slot="0" data-orbital="2p-5"></div>
                                                    <div class="slot" data-slot="1" data-orbital="2p-6"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="wing wing-s" data-sub="2s">
                                        <div class="wing-title">2s wing — <span class="mini">ℓ=0 (s)</span></div>
                                        <div class="units">
                                            <div class="unit" data-wing="2s" data-index="0">
                                                <div class="unit-label">2s</div>
                                                <div class="slots">
                                                    <div class="slot" data-slot="0" data-orbital="2s-1"></div>
                                                    <div class="slot" data-slot="1" data-orbital="2s-2"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Shell n=1 (Lowest Energy - Bottom) -->
                            <div class="floor" data-n="1">
                                <div class="floor-label">Shell n=1 (Lowest Energy)</div>
                                <div class="wings">
                                    <div class="wing wing-s" data-sub="1s">
                                        <div class="wing-title">1s wing — <span class="mini">ℓ=0 (s)</span></div>
                                        <div class="units">
                                            <div class="unit" data-wing="1s" data-index="0">
                                                <div class="unit-label">1s</div>
                                                <div class="slots">
                                                    <div class="slot" data-slot="0" data-orbital="1s-1"></div>
                                                    <div class="slot" data-slot="1" data-orbital="1s-2"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    
                    <div class="demo-controls">
                        <button class="tile-btn" onclick="showFillingOrder()">Show Filling Order</button>
                        <button class="tile-btn secondary" onclick="resetAufbau()">Reset</button>
                    </div>
                </div>
            </div>

            <!-- Hund's Rule Demonstration -->
            <div class="content-card">
                <h3 style="color: var(--success); font-size: 24px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <span class="custom-emoji emoji-star"></span>
                    Hund's Rule Demonstration
                </h3>
                <p style="color: var(--light); margin-bottom: 20px;">
                    See how electrons distribute themselves in degenerate orbitals. Click the orbitals to understand parallel vs. paired spins!
                </p>
                
                                    <div class="hund-demo">
                        <div class="building" id="hundBuilding">
                            <div class="floor" data-n="2">
                                <div class="floor-label">Shell n=2 - P Orbitals (Degenerate - Same Energy)</div>
                                <div class="wings">
                                    <div class="wing wing-p" data-sub="2p">
                                        <div class="wing-title">2p wing — <span class="mini">ℓ=1 (p)</span> <span class="degenerate-label">DEGENERATE</span></div>
                                        <div class="units">
                                            <div class="unit" data-wing="2p" data-index="0">
                                                <div class="unit-label">2px</div>
                                                <div class="slots">
                                                    <div class="slot" data-slot="0" data-orbital="p1-1" onclick="toggleElectron(this)"></div>
                                                    <div class="slot" data-slot="1" data-orbital="p1-2" onclick="toggleElectron(this)"></div>
                                                </div>
                                            </div>
                                            <div class="unit" data-wing="2p" data-index="1">
                                                <div class="unit-label">2py</div>
                                                <div class="slots">
                                                    <div class="slot" data-slot="0" data-orbital="p1-3" onclick="toggleElectron(this)"></div>
                                                    <div class="slot" data-slot="1" data-orbital="p1-4" onclick="toggleElectron(this)"></div>
                                                </div>
                                            </div>
                                            <div class="unit" data-wing="2p" data-index="2">
                                                <div class="unit-label">2pz</div>
                                                <div class="slots">
                                                    <div class="slot" data-slot="0" data-orbital="p1-5" onclick="toggleElectron(this)"></div>
                                                    <div class="slot" data-slot="1" data-orbital="p1-6" onclick="toggleElectron(this)"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    
                    <div class="demo-controls">
                        <button class="tile-btn" onclick="showElectronDistribution()">Show Distribution</button>
                        <button class="tile-btn secondary" onclick="resetHund()">Reset</button>
                    </div>
                </div>
            </div>

            <!-- Pauli Exclusion Principle -->
            <div class="content-card">
                <h3 style="color: var(--danger); font-size: 24px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <span class="custom-emoji emoji-nucleus"></span>
                    Pauli Exclusion Principle
                </h3>
                <p style="color: var(--light); margin-bottom: 20px;">
                    Test the rule that no two electrons can have identical quantum numbers. Try to place electrons and see what happens!
                </p>
                
                                    <div class="pauli-demo">
                        <div class="building" id="pauliBuilding">
                            <div class="floor" data-n="1">
                                <div class="floor-label">Test Orbital - Pauli Exclusion Principle (Max 2 electrons per orbital)</div>
                                <div class="wings">
                                    <div class="wing wing-s" data-sub="1s">
                                        <div class="wing-title">1s wing — <span class="mini">ℓ=0 (s)</span></div>
                                        <div class="units">
                                            <div class="unit" data-wing="1s" data-index="0">
                                                <div class="unit-label">1s</div>
                                                <div class="slots">
                                                    <div class="slot" data-slot="0" id="testOrbital1" onclick="addElectron(this)"></div>
                                                    <div class="slot" data-slot="1" id="testOrbital2" onclick="addElectron(this)"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="electron-count" style="text-align: center; margin-top: 15px; color: var(--light);">
                            Electrons: <span id="electronCount">0</span>/2
                        </div>
                    
                    <div class="demo-controls">
                        <button class="tile-btn" onclick="testPauli()">Test Pauli Rule</button>
                        <button class="tile-btn secondary" onclick="resetPauli()">Reset</button>
                    </div>
                    
                    <div class="pauli-feedback" id="pauliFeedback"></div>
                </div>
            </div>

            <!-- Vocabulary Quiz Section -->
            <div class="vocab-quiz-section" style="background: rgba(15, 23, 42, 0.3); border: 2px solid var(--border); border-radius: 15px; padding: 25px; margin-bottom: 30px;">
                <h3 style="color: var(--accent); font-size: 24px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <span class="custom-emoji emoji-brain"></span>
                    Vocabulary Quiz
                </h3>
                <p style="color: var(--light); margin-bottom: 20px; font-style: italic;">
                    Test your understanding of the key chemistry terms before proceeding to the interactive concepts
                </p>
                
                <div class="quiz-question" style="margin-bottom: 20px;">
                    <p style="color: var(--light); margin-bottom: 10px;"><strong>1. What does Hund's Rule state?</strong></p>
                    <div class="quiz-options" style="display: flex; flex-direction: column; gap: 8px;">
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab1" value="a" style="margin-right: 8px;">
                            Electrons fill orbitals in pairs first
                        </label>
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab1" value="b" style="margin-right: 8px;">
                            Electrons spread out in degenerate orbitals before pairing (correct)
                        </label>
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab1" value="c" style="margin-right: 8px;">
                            Each orbital can hold only 2 electrons
                        </label>
                    </div>
                </div>

                <div class="quiz-question" style="margin-bottom: 20px;">
                    <p style="color: var(--light); margin-bottom: 10px;"><strong>2. What are degenerate orbitals?</strong></p>
                    <div class="quiz-options" style="display: flex; flex-direction: column; gap: 8px;">
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab2" value="a" style="margin-right: 8px;">
                            Orbitals with different energies
                        </label>
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab2" value="b" style="margin-right: 8px;">
                            Orbitals with the same energy (correct)
                        </label>
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab2" value="c" style="margin-right: 8px;">
                            Orbitals that are empty
                        </label>
                    </div>
                </div>

                <div class="quiz-question" style="margin-bottom: 20px;">
                    <p style="color: var(--light); margin-bottom: 10px;"><strong>3. What is the Pauli Exclusion Principle?</strong></p>
                    <div class="quiz-options" style="display: flex; flex-direction: column; gap: 8px;">
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab3" value="a" style="margin-right: 8px;">
                            Electrons fill lowest energy orbitals first
                        </label>
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab3" value="b" style="margin-right: 8px;">
                            Maximum 2 electrons per orbital with opposite spins (correct)
                        </label>
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab3" value="c" style="margin-right: 8px;">
                            Electrons spread out before pairing
                        </label>
                    </div>
                </div>

                <div class="quiz-question" style="margin-bottom: 20px;">
                    <p style="color: var(--light); margin-bottom: 10px;"><strong>4. What are unpaired electrons?</strong></p>
                    <div class="quiz-options" style="display: flex; flex-direction: column; gap: 8px;">
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab4" value="a" style="margin-right: 8px;">
                            Two electrons with opposite spins in same orbital
                        </label>
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab4" value="b" style="margin-right: 8px;">
                            Single electrons in orbitals with same spin (correct)
                        </label>
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab4" value="c" style="margin-right: 8px;">
                            Electrons in the highest energy level
                        </label>
                    </div>
                </div>

                <div class="quiz-question" style="margin-bottom: 20px;">
                    <p style="color: var(--light); margin-bottom: 10px;"><strong>5. What is a lone pair?</strong></p>
                    <div class="quiz-options" style="display: flex; flex-direction: column; gap: 8px;">
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab5" value="a" style="margin-right: 8px;">
                            A single electron in an orbital
                        </label>
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab5" value="b" style="margin-right: 8px;">
                            Pair of electrons not involved in bonding (correct)
                        </label>
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab5" value="c" style="margin-right: 8px;">
                            Electrons in the outermost shell
                        </label>
                    </div>
                </div>

                <div class="quiz-question" style="margin-bottom: 20px;">
                    <p style="color: var(--light); margin-bottom: 10px;"><strong>6. What does the Aufbau Principle state?</strong></p>
                    <div class="quiz-options" style="display: flex; flex-direction: column; gap: 8px;">
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab6" value="a" style="margin-right: 8px;">
                            Electrons spread out before pairing
                        </label>
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab6" value="b" style="margin-right: 8px;">
                            Electrons fill lowest energy orbitals first (correct)
                        </label>
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab6" value="c" style="margin-right: 8px;">
                            Maximum 2 electrons per orbital
                        </label>
                    </div>
                </div>

                <div class="quiz-question" style="margin-bottom: 20px;">
                    <p style="color: var(--light); margin-bottom: 10px;"><strong>7. How many orbitals are in a p subshell?</strong></p>
                    <div class="quiz-options" style="display: flex; flex-direction: column; gap: 8px;">
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab7" value="a" style="margin-right: 8px;">
                            1 orbital
                        </label>
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab7" value="b" style="margin-right: 8px;">
                            3 orbitals (correct)
                        </label>
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab7" value="c" style="margin-right: 8px;">
                            5 orbitals
                        </label>
                    </div>
                </div>

                <div class="quiz-question" style="margin-bottom: 20px;">
                    <p style="color: var(--light); margin-bottom: 10px;"><strong>8. What is the ground state?</strong></p>
                    <div class="quiz-options" style="display: flex; flex-direction: column; gap: 8px;">
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab8" value="a" style="margin-right: 8px;">
                            The highest energy configuration
                        </label>
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab8" value="b" style="margin-right: 8px;">
                            The lowest energy electron configuration (correct)
                        </label>
                        <label style="color: var(--light); cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(30, 41, 59, 0.5);">
                            <input type="radio" name="vocab8" value="c" style="margin-right: 8px;">
                            A temporary configuration
                        </label>
                    </div>
                </div>

                <div class="quiz-controls" style="margin-top: 20px;">
                    <button class="tile-btn" onclick="checkVocabQuiz()">Check Answers</button>
                    <button class="tile-btn secondary" onclick="resetVocabQuiz()">Reset Quiz</button>
                </div>

                <div id="vocabResults" style="margin-top: 20px; padding: 15px; border-radius: 10px; display: none;"></div>
            </div>

            <!-- Interactive Quiz -->
            <div class="content-card">
                <h3 style="color: var(--accent); font-size: 24px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <span class="custom-emoji emoji-study"></span>
                    Quick Understanding Check
                </h3>
                <p style="color: var(--light); margin-bottom: 20px;">
                    Test your understanding of the core rules with these interactive questions!
                </p>
                
                <div class="understanding-quiz" id="understandingQuiz">
                    <div class="quiz-question">
                        <h4>Question 1: What is the correct order for filling orbitals?</h4>
                        <div class="quiz-options">
                            <button class="quiz-option" onclick="checkAnswer(1, 'a')">A) 1s → 2s → 2p → 3s → 3p → 4s → 3d</button>
                            <button class="quiz-option" onclick="checkAnswer(1, 'b')">B) 1s → 2s → 3s → 2p → 3p → 4s → 3d</button>
                            <button class="quiz-option" onclick="checkAnswer(1, 'c')">C) 1s → 2s → 2p → 3s → 3d → 3p → 4s</button>
                        </div>
                    </div>
                    
                                                <div class="quiz-question">
                                <h4>Question 2: How should electrons be placed in degenerate orbitals?</h4>
                                <div class="quiz-options">
                                    <button class="quiz-option" onclick="checkAnswer(2, 'a')">A) Pair up immediately</button>
                                    <button class="quiz-option" onclick="checkAnswer(2, 'b')">B) Spread out with parallel spins first</button>
                                    <button class="quiz-option" onclick="checkAnswer(2, 'c')">C) Random placement</button>
                                </div>
                            </div>
                    
                    <div class="quiz-question">
                        <h4>Question 3: What is the maximum number of electrons per orbital?</h4>
                        <div class="quiz-options">
                            <button class="quiz-option" onclick="checkAnswer(3, 'a')">A) 1</button>
                            <button class="quiz-option" onclick="checkAnswer(3, 'b')">B) 2</button>
                            <button class="quiz-option" onclick="checkAnswer(3, 'c')">C) 3</button>
                        </div>
                    </div>

                    <div class="quiz-question">
                        <h4>Question 4: In a 2p subshell, how should 4 electrons be arranged?</h4>
                        <div class="quiz-options">
                            <button class="quiz-option" onclick="checkAnswer(4, 'a')">A) All in one orbital (px: ↑↓, py: empty, pz: empty)</button>
                            <button class="quiz-option" onclick="checkAnswer(4, 'b')">B) Two orbitals with 2 electrons each (px: ↑↓, py: ↑↓, pz: empty)</button>
                            <button class="quiz-option" onclick="checkAnswer(4, 'c')">C) One electron in each orbital, then pair (px: ↑, py: ↑, pz: ↑↓)</button>
                        </div>
                    </div>

                    <div class="quiz-question">
                        <h4>Question 5: What happens when electrons pair in an orbital?</h4>
                        <div class="quiz-options">
                            <button class="quiz-option" onclick="checkAnswer(5, 'a')">A) They have the same spin (both ↑ or both ↓)</button>
                            <button class="quiz-option" onclick="checkAnswer(5, 'b')">B) They have opposite spins (one ↑ and one ↓)</button>
                            <button class="quiz-option" onclick="checkAnswer(5, 'c')">C) They can have any spin combination</button>
                        </div>
                    </div>

                    <div class="quiz-question">
                        <h4>Question 6: Which element has the electron configuration 1s² 2s² 2p⁶?</h4>
                        <div class="quiz-options">
                            <button class="quiz-option" onclick="checkAnswer(6, 'a')">A) Neon (Ne)</button>
                            <button class="quiz-option" onclick="checkAnswer(6, 'b')">B) Fluorine (F)</button>
                            <button class="quiz-option" onclick="checkAnswer(6, 'c')">C) Sodium (Na)</button>
                        </div>
                    </div>

                    <div class="quiz-question">
                        <h4>Question 7: How many unpaired electrons does oxygen (O) have in its ground state?</h4>
                        <div class="quiz-options">
                            <button class="quiz-option" onclick="checkAnswer(7, 'a')">A) 0 unpaired electrons</button>
                            <button class="quiz-option" onclick="checkAnswer(7, 'b')">B) 2 unpaired electrons</button>
                            <button class="quiz-option" onclick="checkAnswer(7, 'c')">C) 4 unpaired electrons</button>
                        </div>
                    </div>

                    <div class="quiz-question">
                        <h4>Question 8: What is the correct electron configuration for carbon (C)?</h4>
                        <div class="quiz-options">
                            <button class="quiz-option" onclick="checkAnswer(8, 'a')">A) 1s² 2s² 2p² (6 electrons total)</button>
                            <button class="quiz-option" onclick="checkAnswer(8, 'b')">B) 1s² 2s² 2p⁴ (8 electrons total)</button>
                            <button class="quiz-option" onclick="checkAnswer(8, 'c')">C) 1s² 2s⁴ (6 electrons total)</button>
                        </div>
                    </div>

                    <div class="quiz-question">
                        <h4>Question 9: Which rule explains why electrons spread out before pairing?</h4>
                        <div class="quiz-options">
                            <button class="quiz-option" onclick="checkAnswer(9, 'a')">A) Aufbau Principle</button>
                            <button class="quiz-option" onclick="checkAnswer(9, 'b')">B) Hund's Rule</button>
                            <button class="quiz-option" onclick="checkAnswer(9, 'c')">C) Pauli Exclusion Principle</button>
                        </div>
                    </div>

                    <div class="quiz-question">
                        <h4>Question 10: How many orbitals are in a d subshell?</h4>
                        <div class="quiz-options">
                            <button class="quiz-option" onclick="checkAnswer(10, 'a')">A) 3 orbitals</button>
                            <button class="quiz-option" onclick="checkAnswer(10, 'b')">B) 5 orbitals</button>
                            <button class="quiz-option" onclick="checkAnswer(10, 'c')">C) 7 orbitals</button>
                        </div>
                    </div>

                    <div class="quiz-question">
                        <h4>Question 11: How are the 2p electrons arranged in nitrogen (N)?</h4>
                        <div class="quiz-options">
                            <button class="quiz-option" onclick="checkAnswer(11, 'a')">A) px: ↑↓, py: ↑↓, pz: ↑↓ (all paired)</button>
                            <button class="quiz-option" onclick="checkAnswer(11, 'b')">B) px: ↑, py: ↑, pz: ↑ (all unpaired)</button>
                            <button class="quiz-option" onclick="checkAnswer(11, 'c')">C) px: ↑↓, py: ↑, pz: empty (mixed)</button>
                        </div>
                    </div>
                </div>
                
                <div class="quiz-results" id="quizResults" style="display: none;">
                    <h4 style="color: var(--success);">Quiz Results</h4>
                    <p>Score: <span id="quizScore">0</span>/11</p>
                    <p id="quizFeedback"></p>
                </div>
            </div>
        </div>
    </main>

    <!-- ======= Footer (Consistent with main app) ======= -->
    <footer class="app-footer">
        <span><span class="custom-emoji emoji-scientist"></span> © 2025 Electron Towers APP • Mr.Sep Educational Services</span>
    </footer>

    <script>
        // Interactive functionality for the study tiles
        document.addEventListener('DOMContentLoaded', function() {
            // Add hover effects and animations
            const studyTiles = document.querySelectorAll('.study-tile');
            studyTiles.forEach(tile => {
                tile.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-12px) scale(1.03)';
                });
                
                tile.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });

            // Update progress indicators on tiles
            updateTileProgressIndicators();

            // Add click effects for buttons
            const buttons = document.querySelectorAll('.tile-btn, .btn');
            buttons.forEach(button => {
                button.addEventListener('click', function() {
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1)';
                    }, 150);
                });
            });
        });

        // Placeholder functions for tile actions
        function showSection(section) {
            console.log('Showing section:', section);
            // This would show detailed content for each section
        }

        function startOverview() {
            console.log('Starting overview journey');
            // This would begin an interactive overview
        }



        function explainExceptions() {
            console.log('Explaining exceptions');
            // This would provide detailed exception explanations
        }

        function ionExamples() {
            console.log('Showing ion examples');
            // This would display ion formation examples
        }

        function showProblems() {
            console.log('Showing practice problems');
            // This would display practice problems
        }

        function startAssessment() {
            console.log('Starting assessment');
            // This would begin the quiz
        }

        // ======= Overview Tab Interactive Functions =======

        // Show detailed content when clicking on Overview tile
        function showOverviewContent() {
            document.getElementById('detailedContent').style.display = 'block';
            document.getElementById('overviewContent').style.display = 'block';
            document.getElementById('coreRulesContent').style.display = 'none';
            document.querySelector('.study-tiles').style.display = 'none';
            document.querySelector('.page-title').style.display = 'none';
        }

        // ======= Core Rules Interactive Functions =======

        // Show detailed content when clicking on Core Rules tile
        function showCoreRulesContent() {
            document.getElementById('detailedContent').style.display = 'block';
            document.getElementById('overviewContent').style.display = 'none';
            document.getElementById('coreRulesContent').style.display = 'block';
            document.querySelector('.study-tiles').style.display = 'none';
            document.querySelector('.page-title').style.display = 'none';
        }

        // Aufbau Sequence Demonstration
        function showFillingOrder() {
            // Complete Aufbau sequence from main app: 1s → 2s → 2p → 3s → 3p → 4s → 3d → 4p → 5s → 4d → 5p → 6s → 4f → 5d → 6p → 7s → 5f → 6d → 7p
            // This follows the main app's electron filling logic exactly
            
            // Reset all slots first
            resetAufbau();
            
            // Define the complete filling order based on main app ORDER constant
            const fillingSequence = [
                // 1s orbital (2 electrons)
                { slotId: '1s-1', spin: 'up' },
                { slotId: '1s-2', spin: 'down' },
                
                // 2s orbital (2 electrons)  
                { slotId: '2s-1', spin: 'up' },
                { slotId: '2s-2', spin: 'down' },
                
                // 2p orbitals (6 electrons) - Hund's rule: one in each orbital first, then pair
                { slotId: '2p-1', spin: 'up' },    // 2px first electron
                { slotId: '2p-3', spin: 'up' },    // 2py first electron  
                { slotId: '2p-5', spin: 'up' },    // 2pz first electron
                { slotId: '2p-2', spin: 'down' },  // 2px second electron
                { slotId: '2p-4', spin: 'down' },  // 2py second electron
                { slotId: '2p-6', spin: 'down' },  // 2pz second electron
                
                // 3s orbital (2 electrons)
                { slotId: '3s-1', spin: 'up' },
                { slotId: '3s-2', spin: 'down' },
                
                // 3p orbitals (6 electrons) - Hund's rule: one in each orbital first, then pair
                { slotId: '3p-1', spin: 'up' },    // 3px first electron
                { slotId: '3p-3', spin: 'up' },    // 3py first electron
                { slotId: '3p-5', spin: 'up' },    // 3pz first electron
                { slotId: '3p-2', spin: 'down' },  // 3px second electron
                { slotId: '3p-4', spin: 'down' },  // 3py second electron
                { slotId: '3p-6', spin: 'down' },  // 3pz second electron
                
                // 4s orbital (2 electrons)
                { slotId: '4s-1', spin: 'up' },
                { slotId: '4s-2', spin: 'down' },
                
                // 3d orbitals (10 electrons) - Hund's rule: one in each orbital first, then pair
                { slotId: '3d-1', spin: 'up' },    // 3d₁ first electron
                { slotId: '3d-3', spin: 'up' },    // 3d₂ first electron
                { slotId: '3d-5', spin: 'up' },    // 3d₃ first electron
                { slotId: '3d-7', spin: 'up' },    // 3d₄ first electron
                { slotId: '3d-9', spin: 'up' },    // 3d₅ first electron
                { slotId: '3d-2', spin: 'down' },  // 3d₁ second electron
                { slotId: '3d-4', spin: 'down' },  // 3d₂ second electron
                { slotId: '3d-6', spin: 'down' },  // 3d₃ second electron
                { slotId: '3d-8', spin: 'down' },  // 3d₄ second electron
                { slotId: '3d-10', spin: 'down' }, // 3d₅ second electron
                
                // 4p orbitals (6 electrons) - Hund's rule: one in each orbital first, then pair
                { slotId: '4p-1', spin: 'up' },    // 4px first electron
                { slotId: '4p-3', spin: 'up' },    // 4py first electron
                { slotId: '4p-5', spin: 'up' },    // 4pz first electron
                { slotId: '4p-2', spin: 'down' },  // 4px second electron
                { slotId: '4p-4', spin: 'down' },  // 4py second electron
                { slotId: '4p-6', spin: 'down' },  // 4pz second electron
                
                // 5s orbital (2 electrons)
                { slotId: '5s-1', spin: 'up' },
                { slotId: '5s-2', spin: 'down' },
                
                // 4d orbitals (10 electrons) - Hund's rule: one in each orbital first, then pair
                { slotId: '4d-1', spin: 'up' },    // 4d₁ first electron
                { slotId: '4d-3', spin: 'up' },    // 4d₂ first electron
                { slotId: '4d-5', spin: 'up' },    // 4d₃ first electron
                { slotId: '4d-7', spin: 'up' },    // 4d₄ first electron
                { slotId: '4d-9', spin: 'up' },    // 4d₅ first electron
                { slotId: '4d-2', spin: 'down' },  // 4d₁ second electron
                { slotId: '4d-4', spin: 'down' },  // 4d₂ second electron
                { slotId: '4d-6', spin: 'down' },  // 4d₃ second electron
                { slotId: '4d-8', spin: 'down' },  // 4d₄ second electron
                { slotId: '4d-10', spin: 'down' }, // 4d₅ second electron
                
                // 5p orbitals (6 electrons) - Hund's rule: one in each orbital first, then pair
                { slotId: '5p-1', spin: 'up' },    // 5px first electron
                { slotId: '5p-3', spin: 'up' },    // 5py first electron
                { slotId: '5p-5', spin: 'up' },    // 5pz first electron
                { slotId: '5p-2', spin: 'down' },  // 5px second electron
                { slotId: '5p-4', spin: 'down' },  // 5py second electron
                { slotId: '5p-6', spin: 'down' },  // 5pz second electron
                
                // 6s orbital (2 electrons)
                { slotId: '6s-1', spin: 'up' },
                { slotId: '6s-2', spin: 'down' },
                
                // 4f orbitals (14 electrons) - Hund's rule: one in each orbital first, then pair
                { slotId: '4f-1', spin: 'up' },    // 4f₁ first electron
                { slotId: '4f-3', spin: 'up' },    // 4f₂ first electron
                { slotId: '4f-5', spin: 'up' },    // 4f₃ first electron
                { slotId: '4f-7', spin: 'up' },    // 4f₄ first electron
                { slotId: '4f-9', spin: 'up' },    // 4f₅ first electron
                { slotId: '4f-11', spin: 'up' },   // 4f₆ first electron
                { slotId: '4f-13', spin: 'up' },   // 4f₇ first electron
                { slotId: '4f-2', spin: 'down' },  // 4f₁ second electron
                { slotId: '4f-4', spin: 'down' },  // 4f₂ second electron
                { slotId: '4f-6', spin: 'down' },  // 4f₃ second electron
                { slotId: '4f-8', spin: 'down' },  // 4f₄ second electron
                { slotId: '4f-10', spin: 'down' }, // 4f₅ second electron
                { slotId: '4f-12', spin: 'down' }, // 4f₆ second electron
                { slotId: '4f-14', spin: 'down' }, // 4f₇ second electron
                
                // 5d orbitals (10 electrons) - Hund's rule: one in each orbital first, then pair
                { slotId: '5d-1', spin: 'up' },    // 5d₁ first electron
                { slotId: '5d-3', spin: 'up' },    // 5d₂ first electron
                { slotId: '5d-5', spin: 'up' },    // 5d₃ first electron
                { slotId: '5d-7', spin: 'up' },    // 5d₄ first electron
                { slotId: '5d-9', spin: 'up' },    // 5d₅ first electron
                { slotId: '5d-2', spin: 'down' },  // 5d₁ second electron
                { slotId: '5d-4', spin: 'down' },  // 5d₂ second electron
                { slotId: '5d-6', spin: 'down' },  // 5d₃ second electron
                { slotId: '5d-8', spin: 'down' },  // 5d₄ second electron
                { slotId: '5d-10', spin: 'down' }, // 5d₅ second electron
                
                // 6p orbitals (6 electrons) - Hund's rule: one in each orbital first, then pair
                { slotId: '6p-1', spin: 'up' },    // 6px first electron
                { slotId: '6p-3', spin: 'up' },    // 6py first electron
                { slotId: '6p-5', spin: 'up' },    // 6pz first electron
                { slotId: '6p-2', spin: 'down' },  // 6px second electron
                { slotId: '6p-4', spin: 'down' },  // 6py second electron
                { slotId: '6p-6', spin: 'down' },  // 6pz second electron
                
                // 7s orbital (2 electrons)
                { slotId: '7s-1', spin: 'up' },
                { slotId: '7s-2', spin: 'down' },
                
                // 5f orbitals (14 electrons) - Hund's rule: one in each orbital first, then pair
                { slotId: '5f-1', spin: 'up' },    // 5f₁ first electron
                { slotId: '5f-3', spin: 'up' },    // 5f₂ first electron
                { slotId: '5f-5', spin: 'up' },    // 5f₃ first electron
                { slotId: '5f-7', spin: 'up' },    // 5f₄ first electron
                { slotId: '5f-9', spin: 'up' },    // 5f₅ first electron
                { slotId: '5f-11', spin: 'up' },   // 5f₆ first electron
                { slotId: '5f-13', spin: 'up' },   // 5f₇ first electron
                { slotId: '5f-2', spin: 'down' },  // 5f₁ second electron
                { slotId: '5f-4', spin: 'down' },  // 5f₂ second electron
                { slotId: '5f-6', spin: 'down' },  // 5f₃ second electron
                { slotId: '5f-8', spin: 'down' },  // 5f₄ second electron
                { slotId: '5f-10', spin: 'down' }, // 5f₅ second electron
                { slotId: '5f-12', spin: 'down' }, // 5f₆ second electron
                { slotId: '5f-14', spin: 'down' }, // 5f₇ second electron
                
                // 6d orbitals (10 electrons) - Hund's rule: one in each orbital first, then pair
                { slotId: '6d-1', spin: 'up' },    // 6d₁ first electron
                { slotId: '6d-3', spin: 'up' },    // 6d₂ first electron
                { slotId: '6d-5', spin: 'up' },    // 6d₃ first electron
                { slotId: '6d-7', spin: 'up' },    // 6d₄ first electron
                { slotId: '6d-9', spin: 'up' },    // 6d₅ first electron
                { slotId: '6d-2', spin: 'down' },  // 6d₁ second electron
                { slotId: '6d-4', spin: 'down' },  // 6d₂ second electron
                { slotId: '6d-6', spin: 'down' },  // 6d₃ second electron
                { slotId: '6d-8', spin: 'down' },  // 6d₄ second electron
                { slotId: '6d-10', spin: 'down' }, // 6d₅ second electron
                
                // 7p orbitals (6 electrons) - Hund's rule: one in each orbital first, then pair
                { slotId: '7p-1', spin: 'up' },    // 7px first electron
                { slotId: '7p-3', spin: 'up' },    // 7py first electron
                { slotId: '7p-5', spin: 'up' },    // 7pz first electron
                { slotId: '7p-2', spin: 'down' },  // 7px second electron
                { slotId: '7p-4', spin: 'down' },  // 7py second electron
                { slotId: '7p-6', spin: 'down' }   // 7pz second electron
            ];
            
            let currentIndex = 0;
            
            const fillNextElectron = () => {
                if (currentIndex >= fillingSequence.length) return;
                
                const { slotId, spin } = fillingSequence[currentIndex];
                const slot = document.querySelector(`[data-orbital="${slotId}"]`);
                
                if (slot) {
                    // Use same electron symbols as main app: "up" → "↑", "down" → "↓"
                    const electronSymbol = spin === 'up' ? '↑' : '↓';
                    
                    // Apply correct classes: 'filled' for up spins, 'paired' for down spins (red)
                    if (spin === 'up') {
                        slot.classList.add('filled');
                    } else {
                        slot.classList.add('paired'); // This makes down spins red
                    }
                    
                    slot.textContent = electronSymbol;
                    slot.style.animation = 'pulse 0.5s ease-in-out';
                    setTimeout(() => {
                        slot.style.animation = '';
                    }, 500);
                }
                
                currentIndex++;
                setTimeout(fillNextElectron, 300); // Faster animation for longer sequence
            };
            
            fillNextElectron();
        }

        function resetAufbau() {
            const slots = document.querySelectorAll('#aufbauBuilding .slot');
            slots.forEach(slot => {
                slot.classList.remove('filled', 'half-filled', 'paired');
                slot.textContent = '';
            });
        }

        // Hund's Rule Demonstration
        function toggleElectron(slot) {
            if (slot.classList.contains('filled')) {
                slot.classList.remove('filled');
                slot.textContent = '';
            } else {
                slot.classList.add('filled');
                slot.textContent = '↑'; // Use main app's "up" spin symbol
            }
        }

        function showElectronDistribution() {
            // Show the correct Hund's rule distribution matching main app logic exactly
            // Main app logic: "Spread out: single-occupy all orbitals first" with same spin, then pair
            
            // Reset first
            resetHund();
            
            // Define the exact Hund's rule filling sequence for p orbitals
            const hundSequence = [
                // Step 1: Spread out - place one electron in each orbital with same spin (up)
                { slotId: 'p1-1', spin: 'up', delay: 500 },   // 2px first electron (↑)
                { slotId: 'p1-3', spin: 'up', delay: 1000 },  // 2py first electron (↑)
                { slotId: 'p1-5', spin: 'up', delay: 1500 },  // 2pz first electron (↑)
                
                // Step 2: Now pair electrons with opposite spins (down)
                { slotId: 'p1-2', spin: 'down', delay: 2000 }, // 2px second electron (↓)
                { slotId: 'p1-4', spin: 'down', delay: 2500 }, // 2py second electron (↓)
                { slotId: 'p1-6', spin: 'down', delay: 3000 }  // 2pz second electron (↓)
            ];
            
            // Execute the sequence
            hundSequence.forEach(({ slotId, spin, delay }) => {
                setTimeout(() => {
                    const slot = document.querySelector(`[data-orbital="${slotId}"]`);
                    if (slot) {
                        // Use same electron symbols as main app: "up" → "↑", "down" → "↓"
                        const electronSymbol = spin === 'up' ? '↑' : '↓';
                        
                        if (spin === 'up') {
                            slot.classList.add('filled');
                        } else {
                            slot.classList.add('paired');
                        }
                        slot.textContent = electronSymbol;
                        slot.style.animation = 'pulse 0.5s ease-in-out';
                        setTimeout(() => {
                            slot.style.animation = '';
                        }, 500);
                    }
                }, delay);
            });
        }

        function resetHund() {
            const slots = document.querySelectorAll('#hundBuilding .slot');
            slots.forEach(slot => {
                slot.classList.remove('half-filled', 'paired', 'filled');
                slot.textContent = '';
            });
        }

        // Pauli Exclusion Principle
        let electronCount = 0;
        const maxElectrons = 2;

        function addElectron(slot) {
            if (electronCount < maxElectrons) {
                electronCount++;
                updateElectronDisplay();
                
                if (electronCount === 1) {
                    slot.classList.add('filled');
                    slot.textContent = '↑';
                } else if (electronCount === 2) {
                    slot.classList.add('paired');
                    slot.textContent = '↓';
                }
                
                showPauliFeedback();
            }
        }

        function updateElectronDisplay() {
            const countElement = document.getElementById('electronCount');
            if (countElement) {
                countElement.textContent = electronCount;
            }
        }

        function showPauliFeedback() {
            const feedbackElement = document.getElementById('pauliFeedback');
            if (feedbackElement) {
                if (electronCount === 1) {
                    feedbackElement.textContent = '✅ First electron added successfully!';
                    feedbackElement.className = 'pauli-feedback success';
                } else if (electronCount === 2) {
                    feedbackElement.textContent = '✅ Second electron added with opposite spin! Pauli principle satisfied.';
                    feedbackElement.className = 'pauli-feedback success';
                }
            }
        }

        function testPauli() {
            const feedbackElement = document.getElementById('pauliFeedback');
            if (feedbackElement) {
                if (electronCount === 0) {
                    feedbackElement.textContent = '❌ No electrons added yet. Try adding electrons to test the rule!';
                    feedbackElement.className = 'pauli-feedback error';
                } else if (electronCount === 1) {
                    feedbackElement.textContent = '✅ Good! One electron can occupy an orbital. Add another to test pairing!';
                    feedbackElement.className = 'pauli-feedback success';
                } else if (electronCount === 2) {
                    feedbackElement.textContent = '✅ Perfect! Two electrons with opposite spins can share an orbital. Pauli principle demonstrated!';
                    feedbackElement.className = 'pauli-feedback success';
                }
            }
        }

        function resetPauli() {
            electronCount = 0;
            updateElectronDisplay();
            const slots = document.querySelectorAll('#pauliBuilding .slot');
            slots.forEach(slot => {
                slot.classList.remove('filled', 'paired');
                slot.textContent = '';
            });
            const feedbackElement = document.getElementById('pauliFeedback');
            if (feedbackElement) {
                feedbackElement.textContent = '';
                feedbackElement.className = 'pauli-feedback';
            }
        }

        // Quiz Functions
        let quizAnswers = {};

        function checkAnswer(questionNum, selectedAnswer) {
            const correctAnswers = {
                1: 'a', // 1s → 2s → 2p → 3s → 3p → 4s → 3d
                2: 'b', // Spread out with parallel spins first
                3: 'b', // 2 electrons max per orbital
                4: 'c', // One electron in each orbital, then pair (px: ↑, py: ↑, pz: ↑↓)
                5: 'b', // They have opposite spins (one ↑ and one ↓)
                6: 'a', // Neon (Ne)
                7: 'b', // 2 unpaired electrons
                8: 'a', // 1s² 2s² 2p² (6 electrons total)
                9: 'b', // Hund's Rule
                10: 'b', // 5 orbitals
                11: 'b' // px: ↑, py: ↑, pz: ↑ (all unpaired)
            };

            quizAnswers[questionNum] = selectedAnswer;
            
            // Update button appearance
            const options = document.querySelectorAll(`.quiz-question:nth-child(${questionNum}) .quiz-option`);
            options.forEach(option => {
                option.classList.remove('correct', 'incorrect');
                const optionLetter = option.textContent.charAt(0).toLowerCase();
                if (optionLetter === correctAnswers[questionNum]) {
                    option.classList.add('correct');
                } else if (optionLetter === selectedAnswer) {
                    option.classList.add('incorrect');
                }
            });

            // Check if all questions are answered
            if (Object.keys(quizAnswers).length === 11) {
                setTimeout(showQuizResults, 1000);
            }
        }

        function showQuizResults() {
            const correctAnswers = {
                1: 'a', // 1s → 2s → 2p → 3s → 3p → 4s → 3d
                2: 'b', // Spread out with parallel spins first
                3: 'b', // 2 electrons max per orbital
                4: 'c', // One electron in each orbital, then pair (px: ↑, py: ↑, pz: ↑↓)
                5: 'b', // They have opposite spins (one ↑ and one ↓)
                6: 'a', // Neon (Ne)
                7: 'b', // 2 unpaired electrons
                8: 'a', // 1s² 2s² 2p² (6 electrons total)
                9: 'b', // Hund's Rule
                10: 'b', // 5 orbitals
                11: 'b' // px: ↑, py: ↑, pz: ↑ (all unpaired)
            };

            let score = 0;
            for (let question in quizAnswers) {
                if (quizAnswers[question] === correctAnswers[question]) {
                    score++;
                }
            }

            const scoreElement = document.getElementById('quizScore');
            const feedbackElement = document.getElementById('quizFeedback');
            const resultsElement = document.getElementById('quizResults');

            if (scoreElement) scoreElement.textContent = score;
            if (feedbackElement) {
                if (score >= 9) {
                    feedbackElement.textContent = '🎉 Excellent! You have mastered the core rules and electron configurations!';
                } else if (score >= 7) {
                    feedbackElement.textContent = '👍 Good work! You understand most concepts. Review the incorrect answers to strengthen your understanding.';
                } else if (score >= 5) {
                    feedbackElement.textContent = '📚 Keep studying! You have a basic understanding but need more practice with the core rules.';
                } else {
                    feedbackElement.textContent = '🔄 Review the material! Focus on the three core rules and orbital notation.';
                }
            }
            if (resultsElement) resultsElement.style.display = 'block';

            // Track progress in localStorage
            updateProgress('coreRules', score, 11);
        }

        // Hide detailed content and return to tiles
        function hideDetailedContent() {
            document.getElementById('detailedContent').style.display = 'none';
            document.querySelector('.study-tiles').style.display = 'grid';
            document.querySelector('.page-title').style.display = 'block';
        }

        // Progress tracking function
        function updateProgress(concept, score, totalQuestions) {
            const savedProgress = localStorage.getItem('electronTowerProgress');
            const progress = savedProgress ? JSON.parse(savedProgress) : getDefaultProgress();
            
            if (!progress.concepts[concept]) {
                progress.concepts[concept] = { completed: false, score: 0, attempts: 0, timeSpent: 0 };
            }
            
            progress.concepts[concept].score += score;
            progress.concepts[concept].attempts++;
            progress.concepts[concept].completed = (score / totalQuestions) >= 0.7; // 70% threshold
            
            // Update streak
            const today = new Date().toDateString();
            if (progress.lastStudyDate !== today) {
                progress.streak++;
                progress.lastStudyDate = today;
            }
            
            localStorage.setItem('electronTowerProgress', JSON.stringify(progress));
            
            // Check for achievements
            checkAchievements(progress);
        }

        function getDefaultProgress() {
            return {
                concepts: {
                    overview: { completed: false, score: 0, attempts: 0, timeSpent: 0 },
                    coreRules: { completed: false, score: 0, attempts: 0, timeSpent: 0 },
                    sublevels: { completed: false, score: 0, attempts: 0, timeSpent: 0 },
                    exceptions: { completed: false, score: 0, attempts: 0, timeSpent: 0 },
                    applications: { completed: false, score: 0, attempts: 0, timeSpent: 0 },
                    practice: { completed: false, score: 0, attempts: 0, timeSpent: 0 }
                },
                achievements: [],
                streak: 0,
                lastStudyDate: null,
                totalQuizzes: 0,
                totalTimeSpent: 0
            };
        }

        function checkAchievements(progress) {
            const achievements = progress.achievements || [];
            
            // First quiz achievement
            const totalQuizzes = Object.values(progress.concepts).reduce((sum, c) => sum + c.attempts, 0);
            if (totalQuizzes >= 1 && !achievements.includes('first_quiz')) {
                achievements.push('first_quiz');
                showAchievementNotification('First Steps', 'Complete your first quiz!');
            }
            
            // Perfect score achievement
            const hasPerfectScore = Object.values(progress.concepts).some(c => c.score > 0 && c.score === c.attempts);
            if (hasPerfectScore && !achievements.includes('perfect_score')) {
                achievements.push('perfect_score');
                showAchievementNotification('Perfectionist', 'Get a perfect quiz score!');
            }
            
            // All concepts achievement
            const allCompleted = Object.values(progress.concepts).every(c => c.completed);
            if (allCompleted && !achievements.includes('all_concepts')) {
                achievements.push('all_concepts');
                showAchievementNotification('Electron Expert', 'Complete all concepts!');
            }
            
            progress.achievements = achievements;
            localStorage.setItem('electronTowerProgress', JSON.stringify(progress));
        }

        function showAchievementNotification(title, description) {
            // Create a simple notification
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--success);
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                z-index: 1000;
                animation: slideIn 0.3s ease;
            `;
            notification.innerHTML = `
                <div style="font-weight: bold; margin-bottom: 5px;">🏆 ${title}</div>
                <div style="font-size: 0.9rem;">${description}</div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        function updateTileProgressIndicators() {
            const savedProgress = localStorage.getItem('electronTowerProgress');
            if (!savedProgress) return;
            
            const progress = JSON.parse(savedProgress);
            
            // Update Core Rules tile
            const coreRulesProgress = progress.concepts.coreRules;
            if (coreRulesProgress && coreRulesProgress.attempts > 0) {
                const percentage = Math.round((coreRulesProgress.score / coreRulesProgress.attempts) * 100);
                const tile = document.querySelector('.study-tile.rules');
                if (tile) {
                    const progressDiv = document.createElement('div');
                    progressDiv.className = 'tile-progress';
                    progressDiv.style.cssText = `
                        background: var(--success);
                        color: white;
                        padding: 5px 10px;
                        border-radius: 15px;
                        font-size: 0.8rem;
                        margin-top: 10px;
                        text-align: center;
                    `;
                    progressDiv.innerHTML = `Progress: ${percentage}% (${coreRulesProgress.score}/${coreRulesProgress.attempts})`;
                    tile.querySelector('.tile-header').appendChild(progressDiv);
                }
            }
        }

        // Show objective details when clicked
        function showObjectiveDetails(objective) {
            const objectives = {
                aufbau: {
                    title: "Aufbau Principle",
                    description: "Electrons fill orbitals in order of increasing energy, following the diagonal pattern: 1s → 2s → 2p → 3s → 3p → 4s → 3d → 4p...",
                    examples: ["Hydrogen: 1s¹", "Helium: 1s²", "Carbon: 1s² 2s² 2p²", "Neon: 1s² 2s² 2p⁶"]
                },
                hund: {
                    title: "Hund's Rule",
                    description: "Electrons prefer to occupy separate degenerate orbitals with parallel spins before pairing. This maximizes total spin and follows the principle of maximum multiplicity. Degenerate orbitals have the same energy level.",
                    examples: ["Carbon p-subshell: ↑ ↑ (not ↑↓)", "Nitrogen p-subshell: ↑ ↑ ↑", "Oxygen p-subshell: ↑↓ ↑ ↑"]
                },
                pauli: {
                    title: "Pauli Exclusion Principle",
                    description: "No two electrons in an atom can have identical quantum numbers. Each orbital can hold at most 2 electrons, and they must have opposite spins (↑↓).",
                    examples: ["1s orbital: ↑↓ (2 electrons max, opposite spins)", "2p orbital: ↑↓ (2 electrons max, opposite spins)", "3d orbital: ↑↓ (2 electrons max, opposite spins)"]
                },
                exceptions: {
                    title: "Notable Exceptions",
                    description: "Some elements break the standard rules for stability, particularly transition metals seeking half-filled or filled d-subshells.",
                    examples: ["Chromium: [Ar] 4s¹ 3d⁵ (not 4s² 3d⁴)", "Copper: [Ar] 4s¹ 3d¹⁰ (not 4s² 3d⁹)"]
                },
                ions: {
                    title: "Ion Formation",
                    description: "Atoms gain or lose electrons to form ions. Cations lose electrons (positive charge), anions gain electrons (negative charge).",
                    examples: ["Na⁺: loses 1 electron", "Ca²⁺: loses 2 electrons", "Cl⁻: gains 1 electron", "O²⁻: gains 2 electrons"]
                },
                octet: {
                    title: "Octet Rule",
                    description: "Atoms tend to gain, lose, or share electrons to achieve 8 valence electrons, providing maximum stability.",
                    examples: ["Neon: 8 valence electrons (stable)", "Sodium: 1 valence electron (unstable)", "Chlorine: 7 valence electrons (unstable)"]
                }
            };

            const obj = objectives[objective];
            if (obj) {
                alert(`${obj.title}\n\n${obj.description}\n\nExamples:\n${obj.examples.join('\n')}`);
            }
        }



        // Update tile click handlers to show detailed content
        document.addEventListener('DOMContentLoaded', function() {
            // Update the Overview tile to show detailed content
            const overviewTile = document.querySelector('.study-tile.overview');
            if (overviewTile) {
                const learnMoreBtn = overviewTile.querySelector('.tile-btn');
                if (learnMoreBtn) {
                    learnMoreBtn.onclick = showOverviewContent;
                }
            }

            // Initialize learning progress from localStorage
            initializeLearningProgress();
        });

        // ======= Learning Progress Functions =======

        function initializeLearningProgress() {
            const savedProgress = localStorage.getItem('learningProgress');
            if (savedProgress) {
                const progress = JSON.parse(savedProgress);
                updateLearningProgress(progress.conceptsMastered || 0, progress.streak || 0);
            }
        }

        function updateLearningProgress(conceptsMastered, streak) {
            const percentage = Math.round((conceptsMastered / 6) * 100);
            
            // Update nucleus
            const nucleus = document.getElementById('nucleusProgress');
            if (nucleus) {
                nucleus.querySelector('.nucleus-text').textContent = percentage + '%';
                
                // Add celebration animation for milestones
                if (conceptsMastered > 0 && conceptsMastered % 2 === 0) {
                    nucleus.classList.add('celebrating');
                    setTimeout(() => {
                        nucleus.classList.remove('celebrating');
                    }, 600);
                }
            }

            // Update electron shells with animation
            const shells = [
                document.getElementById('shell1'),
                document.getElementById('shell2'),
                document.getElementById('shell3')
            ];

            shells.forEach((shell, index) => {
                if (shell) {
                    if (conceptsMastered > index * 2) {
                        if (!shell.classList.contains('active')) {
                            shell.classList.add('active');
                            // Add entrance animation
                            shell.style.transform = 'scale(0.8)';
                            setTimeout(() => {
                                shell.style.transform = 'scale(1)';
                            }, 100);
                        }
                    } else {
                        shell.classList.remove('active');
                    }
                }
            });

            // Update stats with animation
            const conceptsElement = document.getElementById('conceptsMastered');
            const streakElement = document.getElementById('currentStreak');
            const levelElement = document.getElementById('achievementLevel');

            if (conceptsElement) {
                conceptsElement.style.transform = 'scale(1.1)';
                conceptsElement.textContent = conceptsMastered + '/6';
                setTimeout(() => {
                    conceptsElement.style.transform = 'scale(1)';
                }, 200);
            }
            
            if (streakElement) streakElement.textContent = streak + ' days';
            
            if (levelElement) {
                const oldLevel = levelElement.textContent;
                if (conceptsMastered === 0) levelElement.textContent = 'Beginner';
                else if (conceptsMastered <= 2) levelElement.textContent = 'Novice';
                else if (conceptsMastered <= 4) levelElement.textContent = 'Intermediate';
                else if (conceptsMastered <= 5) levelElement.textContent = 'Advanced';
                else levelElement.textContent = 'Master';
                
                // Animate level change
                if (oldLevel !== levelElement.textContent) {
                    levelElement.style.transform = 'scale(1.2)';
                    levelElement.style.color = '#10b981';
                    setTimeout(() => {
                        levelElement.style.transform = 'scale(1)';
                        levelElement.style.color = '';
                    }, 300);
                }
            }

            // Update achievements
            updateAchievements(conceptsMastered);
        }

        function updateAchievements(conceptsMastered) {
            const achievements = document.querySelectorAll('.achievement-item');
            
            if (conceptsMastered >= 1) {
                achievements[0].classList.remove('locked');
                achievements[0].classList.add('unlocked');
                achievements[0].querySelector('.achievement-icon').textContent = '🎯';
            }
            
            if (conceptsMastered >= 3) {
                achievements[1].classList.remove('locked');
                achievements[1].classList.add('unlocked');
                achievements[1].querySelector('.achievement-icon').textContent = '⭐';
            }
            
            if (conceptsMastered >= 6) {
                achievements[2].classList.remove('locked');
                achievements[2].classList.add('unlocked');
                achievements[2].querySelector('.achievement-icon').textContent = '🏆';
            }
        }

        function showConceptDetails(concept) {
            const concepts = {
                aufbau: {
                    title: "Aufbau principle",
                    description: "Electrons occupy the lowest-energy available subshells first.",
                    examples: ["Hydrogen: 1s¹", "Helium: 1s²", "Carbon: 1s² 2s² 2p²", "Neon: 1s² 2s² 2p⁶"]
                },
                hund: {
                    title: "Hund's rule",
                    description: "In a set of degenerate orbitals (p, d, f), place one electron in each with the same spin before pairing.",
                    examples: ["Carbon p-subshell: ↑ ↑ (not ↑↓)", "Nitrogen p-subshell: ↑ ↑ ↑", "Oxygen p-subshell: ↑↓ ↑ ↑"]
                },
                pauli: {
                    title: "Pauli exclusion principle",
                    description: "Each orbital holds at most two electrons and they must have opposite spins (↑↓).",
                    examples: ["1s orbital: ↑↓ (2 electrons max, opposite spins)", "2p orbital: ↑↓ (2 electrons max, opposite spins)", "3d orbital: ↑↓ (2 electrons max, opposite spins)"]
                },
                exceptions: {
                    title: "Notable Exceptions",
                    description: "Some elements break the standard rules for stability, particularly transition metals seeking half-filled or filled d-subshells.",
                    examples: ["Chromium: [Ar] 4s¹ 3d⁵ (not 4s² 3d⁴)", "Copper: [Ar] 4s¹ 3d¹⁰ (not 4s² 3d⁹)"]
                },
                ions: {
                    title: "Ion Formation",
                    description: "Atoms gain or lose electrons to form ions. Cations lose electrons (positive charge), anions gain electrons (negative charge).",
                    examples: ["Na⁺: loses 1 electron", "Ca²⁺: loses 2 electrons", "Cl⁻: gains 1 electron", "O²⁻: gains 2 electrons"]
                },
                octet: {
                    title: "Octet Rule",
                    description: "Atoms tend to gain, lose, or share electrons to achieve 8 valence electrons, providing maximum stability.",
                    examples: ["Neon: 8 valence electrons (stable)", "Sodium: 1 valence electron (unstable)", "Chlorine: 7 valence electrons (unstable)"]
                }
            };

            const conceptInfo = concepts[concept];
            if (conceptInfo) {
                alert(`${conceptInfo.title}\n\n${conceptInfo.description}\n\nExamples:\n${conceptInfo.examples.join('\n')}`);
                
                // Mark concept as learned
                markConceptAsLearned(concept);
            }
        }

        function markConceptAsLearned(concept) {
            const savedProgress = localStorage.getItem('learningProgress') || '{}';
            const progress = JSON.parse(savedProgress);
            
            if (!progress.conceptsLearned) progress.conceptsLearned = [];
            if (!progress.conceptsLearned.includes(concept)) {
                progress.conceptsLearned.push(concept);
                progress.conceptsMastered = progress.conceptsLearned.length;
                
                // Update streak
                const today = new Date().toDateString();
                if (!progress.lastStudyDate || progress.lastStudyDate !== today) {
                    progress.streak = (progress.streak || 0) + 1;
                    progress.lastStudyDate = today;
                }
                
                localStorage.setItem('learningProgress', JSON.stringify(progress));
                updateLearningProgress(progress.conceptsMastered, progress.streak);
            }
        }

        function resetLearningProgress() {
            if (confirm('Are you sure you want to reset all learning progress? This cannot be undone.')) {
                localStorage.removeItem('learningProgress');
                updateLearningProgress(0, 0);
                
                // Reset achievements
                const achievements = document.querySelectorAll('.achievement-item');
                achievements.forEach(achievement => {
                    achievement.classList.remove('unlocked');
                    achievement.classList.add('locked');
                    achievement.querySelector('.achievement-icon').textContent = '🔒';
                });
            }
        }

        function exportLearningReport() {
            const savedProgress = localStorage.getItem('learningProgress') || '{}';
            const progress = JSON.parse(savedProgress);
            
            let report = 'Electron Configuration Learning Report\n';
            report += 'Generated on: ' + new Date().toLocaleDateString() + '\n\n';
            
            report += `Concepts Mastered: ${progress.conceptsMastered || 0}/6\n`;
            report += `Current Streak: ${progress.streak || 0} days\n`;
            report += `Achievement Level: ${getAchievementLevel(progress.conceptsMastered || 0)}\n\n`;
            
            if (progress.conceptsLearned && progress.conceptsLearned.length > 0) {
                report += 'Concepts Learned:\n';
                progress.conceptsLearned.forEach(concept => {
                    report += `  ✓ ${concept.charAt(0).toUpperCase() + concept.slice(1)}\n`;
                });
            }
            
            // Create and download the report
            const blob = new Blob([report], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'learning-progress-report.txt';
            a.click();
            window.URL.revokeObjectURL(url);
        }

        function getAchievementLevel(conceptsMastered) {
            if (conceptsMastered === 0) return 'Beginner';
            if (conceptsMastered <= 2) return 'Novice';
            if (conceptsMastered <= 4) return 'Intermediate';
            if (conceptsMastered <= 5) return 'Advanced';
            return 'Master';
        }

        // ======= Journey Functions =======
        function startLearningJourney() {
            // Animate the journey path
            const steps = document.querySelectorAll('.path-step');
            steps.forEach((step, index) => {
                setTimeout(() => {
                    step.classList.add('active');
                    if (index < steps.length - 1) {
                        step.nextElementSibling.classList.add('active');
                    }
                }, index * 500);
            });
            
            // Show a motivational message
            setTimeout(() => {
                alert('🎉 Welcome to your electron configuration learning journey!\n\nClick on the concept tiles above to start learning. Each concept you master will unlock achievements and track your progress.\n\nGood luck on your journey to becoming an electron configuration expert!');
            }, 2500);
        }

        // ======= Vocabulary Functions =======
        function showVocabDefinition(term) {
            const definitions = {
                aufbau: {
                    title: "Aufbau Principle",
                    definition: "Electrons fill orbitals in order of increasing energy, following the diagonal pattern: 1s → 2s → 2p → 3s → 3p → 4s → 3d → 4p...",
                    examples: ["Hydrogen: 1s¹", "Helium: 1s²", "Carbon: 1s² 2s² 2p²", "Neon: 1s² 2s² 2p⁶"]
                },
                hund: {
                    title: "Hund's Rule",
                    definition: "Electrons prefer to occupy separate degenerate orbitals with parallel spins before pairing. This maximizes total spin and follows the principle of maximum multiplicity.",
                    examples: ["Carbon p-subshell: ↑ ↑ (not ↑↓)", "Nitrogen p-subshell: ↑ ↑ ↑", "Oxygen p-subshell: ↑↓ ↑ ↑"]
                },
                pauli: {
                    title: "Pauli Exclusion Principle",
                    definition: "No two electrons in an atom can have identical quantum numbers. Each orbital can hold at most 2 electrons, and they must have opposite spins (↑↓).",
                    examples: ["1s orbital: ↑↓ (2 electrons max, opposite spins)", "2p orbital: ↑↓ (2 electrons max, opposite spins)", "3d orbital: ↑↓ (2 electrons max, opposite spins)"]
                },
                degenerate: {
                    title: "Degenerate Orbitals",
                    definition: "Orbitals that have the same energy level. For example, the three 2p orbitals (2px, 2py, 2pz) are degenerate.",
                    examples: ["2p orbitals: 2px, 2py, 2pz", "3d orbitals: 3dxy, 3dxz, 3dyz, 3dx²-y², 3dz²"]
                },
                valence: {
                    title: "Valence Electrons",
                    definition: "Electrons in the outermost shell of an atom. These electrons are involved in chemical bonding and determine the element's chemical properties.",
                    examples: ["Carbon: 4 valence electrons (2s² 2p²)", "Oxygen: 6 valence electrons (2s² 2p⁴)", "Sodium: 1 valence electron (3s¹)"]
                },
                octet: {
                    title: "Octet Rule",
                    definition: "Atoms tend to gain, lose, or share electrons to achieve 8 valence electrons, providing maximum stability similar to noble gases.",
                    examples: ["Neon: 8 valence electrons (stable)", "Sodium: 1 valence electron (unstable)", "Chlorine: 7 valence electrons (unstable)"]
                }
            };

            const vocab = definitions[term];
            if (vocab) {
                alert(`${vocab.title}\n\nDefinition: ${vocab.definition}\n\nExamples:\n${vocab.examples.join('\n')}`);
            }
        }

        // Vocabulary Quiz Functions
        function checkVocabQuiz() {
            const answers = {
                vocab1: 'b', // Hund's Rule: electrons spread out before pairing
                vocab2: 'b', // Degenerate orbitals have same energy
                vocab3: 'b', // Pauli Exclusion: max 2 electrons with opposite spins
                vocab4: 'b', // Unpaired electrons: single electrons with same spin
                vocab5: 'b', // Lone pair: pair of electrons not involved in bonding
                vocab6: 'b', // Aufbau Principle: electrons fill lowest energy first
                vocab7: 'b', // p subshell: 3 orbitals
                vocab8: 'b'  // Ground state: lowest energy configuration
            };
            
            let correct = 0;
            let total = 8;
            
            // Check each question
            for (let i = 1; i <= total; i++) {
                const selected = document.querySelector(`input[name="vocab${i}"]:checked`);
                if (selected && selected.value === answers[`vocab${i}`]) {
                    correct++;
                }
            }
            
            const resultsDiv = document.getElementById('vocabResults');
            const percentage = Math.round((correct / total) * 100);
            
            let resultText = '';
            let resultClass = '';
            
            if (percentage >= 80) {
                resultText = `🎉 Excellent! You got ${correct}/${total} correct (${percentage}%). You have a strong understanding of chemistry vocabulary!`;
                resultClass = 'success';
            } else if (percentage >= 60) {
                resultText = `👍 Good job! You got ${correct}/${total} correct (${percentage}%). Review the vocabulary cards to improve further.`;
                resultClass = 'warning';
            } else {
                resultText = `📚 Keep studying! You got ${correct}/${total} correct (${percentage}%). Review the vocabulary section and try again.`;
                resultClass = 'error';
            }
            
            resultsDiv.innerHTML = resultText;
            resultsDiv.className = `pauli-feedback ${resultClass}`;
            resultsDiv.style.display = 'block';

            // Track progress for vocabulary quiz
            updateProgress('coreRules', correct, total);
        }

        function resetVocabQuiz() {
            // Clear all radio button selections
            const radioButtons = document.querySelectorAll('input[type="radio"]');
            radioButtons.forEach(radio => {
                radio.checked = false;
            });
            
            // Hide results
            const resultsDiv = document.getElementById('vocabResults');
            resultsDiv.style.display = 'none';
        }
    </script>
</body>
</html>
