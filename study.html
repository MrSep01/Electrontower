<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study Guide - Electron Towers</title>
    <style>
        :root {
            --primary: #1e293b;
            --secondary: #334155;
            --accent: #06b6d4;
            --warning: #f59e0b;
            --success: #10b981;
            --danger: #ef4444;
            --light: #f1f5f9;
            --border: #475569;
            --bg: #0f172a;
            --card: #1e293b;
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --gradient-accent: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --gradient-warning: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --gradient-success: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            --gradient-danger: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--light);
            line-height: 1.6;
            min-height: 100vh;
        }

        /* ======= Custom Logo-Based Emojis ======= */
        .custom-emoji {
            display: inline-block;
            width: 1.2em;
            height: 1.2em;
            vertical-align: middle;
            position: relative;
        }

        .emoji-scientist {
            background: linear-gradient(135deg, #87CEEB 0%, #B0E0E6 100%);
            border-radius: 50%;
            border: 2px solid #8b5cf6;
        }

        .emoji-scientist::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 50%;
            transform: translateX(-50%);
            width: 8px;
            height: 6px;
            background: #8b5cf6;
            border-radius: 4px 4px 2px 2px;
        }

        .emoji-scientist::after {
            content: '';
            position: absolute;
            top: 8px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 4px;
            background: #fbbf24;
            border-radius: 3px;
        }

        .emoji-atom {
            background: white;
            border: 2px solid #8b5cf6;
            border-radius: 50%;
        }

        .emoji-atom::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 3px;
            height: 3px;
            background: #8b5cf6;
            border-radius: 50%;
        }

        .emoji-beaker {
            background: #8b5cf6;
            border: 1px solid white;
            border-radius: 2px 2px 0 0;
            width: 8px;
            height: 10px;
        }

        .emoji-beaker::after {
            content: '';
            position: absolute;
            top: -1px;
            right: 1px;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
        }

        .emoji-syringe {
            background: white;
            border: 1px solid #8b5cf6;
            border-radius: 1px;
            width: 4px;
            height: 12px;
        }

        .emoji-syringe::before {
            content: '';
            position: absolute;
            top: -2px;
            left: 1px;
            width: 2px;
            height: 2px;
            background: #8b5cf6;
            border-radius: 50%;
        }

        .emoji-star {
            background: white;
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
            width: 10px;
            height: 10px;
        }

        .emoji-electron {
            background: #06b6d4;
            border-radius: 50%;
            width: 8px;
            height: 8px;
            box-shadow: 0 0 4px #06b6d4;
        }

        .emoji-nucleus {
            background: #ef4444;
            border-radius: 50%;
            width: 10px;
            height: 10px;
            box-shadow: 0 0 4px #ef4444;
        }

        .emoji-energy {
            background: #f59e0b;
            border-radius: 50%;
            width: 8px;
            height: 8px;
            box-shadow: 0 0 4px #f59e0b;
        }

        .emoji-study {
            background: #10b981;
            border-radius: 50%;
            width: 10px;
            height: 10px;
            box-shadow: 0 0 4px #10b981;
        }

        .emoji-game {
            background: #8b5cf6;
            border-radius: 50%;
            width: 10px;
            height: 10px;
            box-shadow: 0 0 4px #8b5cf6;
        }

        /* ======= Header Styles (Consistent with main app) ======= */
        .app-header {
            background: var(--card);
            border-bottom: 2px solid var(--border);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .header-logo {
            position: relative;
            width: 60px;
            height: 60px;
            flex-shrink: 0;
            background: linear-gradient(135deg, #87CEEB 0%, #B0E0E6 100%);
            border-radius: 15px;
            padding: 6px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.15);
            overflow: hidden;
        }

        .logo-image {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .logo-placeholder {
            width: 100%;
            height: 100%;
            position: relative;
            background: linear-gradient(135deg, #87CEEB 0%, #B0E0E6 100%);
            border-radius: 10px;
        }

        /* Scientist elements */
        .logo-scientist {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .logo-hair-purple {
            position: absolute;
            top: 8px;
            left: 20px;
            width: 20px;
            height: 12px;
            background: #8b5cf6;
            border-radius: 10px 10px 8px 8px;
        }

        .logo-face-skin {
            position: absolute;
            top: 18px;
            left: 22px;
            width: 16px;
            height: 12px;
            background: #fbbf24;
            border-radius: 8px;
        }

        .logo-eyes-blue {
            position: absolute;
            top: 20px;
            left: 24px;
            width: 12px;
            height: 8px;
            display: flex;
            gap: 4px;
        }

        .logo-eyes-blue::before,
        .logo-eyes-blue::after {
            content: '';
            width: 4px;
            height: 4px;
            background: #1e40af;
            border-radius: 50%;
        }

        .logo-glasses-round {
            position: absolute;
            top: 19px;
            left: 21px;
            width: 18px;
            height: 6px;
            border: 2px solid #1e293b;
            border-radius: 6px;
        }

        .logo-smile-friendly {
            position: absolute;
            top: 26px;
            left: 25px;
            width: 8px;
            height: 4px;
            border: 1px solid #dc2626;
            border-top: none;
            border-radius: 0 0 8px 8px;
        }

        .logo-labcoat-white {
            position: absolute;
            top: 30px;
            left: 18px;
            width: 24px;
            height: 14px;
            background: white;
            border-radius: 4px 4px 0 0;
        }

        .logo-tie-purple {
            position: absolute;
            top: 32px;
            left: 26px;
            width: 4px;
            height: 10px;
            background: #8b5cf6;
            border-radius: 2px;
        }

        /* Science elements */
        .logo-science-elements {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .logo-atom-white {
            position: absolute;
            width: 8px;
            height: 8px;
            border: 1px solid white;
            border-radius: 50%;
        }

        .logo-atom-white:nth-child(1) {
            top: 5px;
            left: 5px;
        }

        .logo-atom-white:nth-child(2) {
            top: 5px;
            right: 5px;
        }

        .logo-beaker-purple {
            position: absolute;
            width: 6px;
            height: 8px;
            background: #8b5cf6;
            border-radius: 3px 3px 0 0;
        }

        .logo-beaker-purple:nth-child(3) {
            bottom: 5px;
            left: 5px;
        }

        .logo-beaker-purple:nth-child(4) {
            bottom: 5px;
            right: 5px;
        }

        .logo-syringe-white {
            position: absolute;
            width: 3px;
            height: 10px;
            background: white;
            border: 1px solid #8b5cf6;
            border-radius: 1px;
        }

        .logo-syringe-white:nth-child(5) {
            bottom: 8px;
            left: 15px;
        }

        .logo-syringe-white:nth-child(6) {
            bottom: 8px;
            right: 15px;
        }

        .logo-star-white {
            position: absolute;
            width: 3px;
            height: 3px;
            background: white;
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
        }

        .logo-star-white:nth-child(7) {
            top: 12px;
            left: 12px;
        }

        .logo-star-white:nth-child(8) {
            top: 18px;
            right: 10px;
        }

        .logo-star-white:nth-child(9) {
            bottom: 15px;
            left: 10px;
        }

        .logo-star-white:nth-child(10) {
            bottom: 22px;
            right: 8px;
        }

        .brand-text {
            display: flex;
            flex-direction: column;
        }

        .brand-text h1 {
            color: var(--light);
            font-size: 24px;
            font-weight: 700;
            margin: 0;
        }

        .brand-text .subtitle {
            color: var(--accent);
            font-size: 14px;
            margin: 5px 0 0 0;
            opacity: 0.8;
        }

        .right {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn.ghost {
            background: transparent;
            color: var(--light);
            border: 2px solid var(--border);
        }

        .btn.ghost:hover {
            background: var(--border);
            border-color: var(--accent);
        }

        .btn.primary {
            background: var(--accent);
            color: white;
        }

        .btn.primary:hover {
            background: #0891b2;
            transform: translateY(-2px);
        }

        /* ======= Main Content ======= */
        .main {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .page-title {
            text-align: center;
            margin-bottom: 50px;
        }

        .page-title h1 {
            font-size: 48px;
            color: var(--accent);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
        }

        .page-title p {
            font-size: 20px;
            color: var(--light);
            opacity: 0.8;
        }

        /* ======= Big Tile Design ======= */
        .study-tiles {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        .study-tile {
            background: var(--card);
            border: 2px solid var(--border);
            border-radius: 20px;
            padding: 40px;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .study-tile::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: var(--gradient-primary);
        }

        .study-tile.overview::before {
            background: var(--gradient-primary);
        }

        .study-tile.rules::before {
            background: var(--gradient-accent);
        }

        .study-tile.exceptions::before {
            background: var(--gradient-warning);
        }

        .study-tile.ions::before {
            background: var(--gradient-secondary);
        }

        .study-tile.practice::before {
            background: var(--gradient-success);
        }

        .study-tile.assessment::before {
            background: var(--gradient-danger);
        }

        .study-tile:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: var(--accent);
            box-shadow: 0 20px 40px rgba(6, 182, 212, 0.3);
        }

        .tile-header {
            margin-bottom: 25px;
        }

        .tile-header h2 {
            color: var(--light);
            font-size: 28px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .tile-header p {
            color: var(--light);
            opacity: 0.8;
            font-size: 16px;
            line-height: 1.6;
        }

        .tile-content {
            flex-grow: 1;
        }

        .tile-features {
            list-style: none;
            margin: 20px 0;
        }

        .tile-features li {
            color: var(--light);
            margin-bottom: 12px;
            padding-left: 30px;
            position: relative;
            font-size: 15px;
        }

        .tile-features li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: var(--success);
            font-weight: bold;
            font-size: 18px;
        }

        .tile-actions {
            margin-top: 25px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .tile-btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tile-btn:hover {
            background: #0891b2;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(6, 182, 212, 0.4);
        }

        .tile-btn.secondary {
            background: transparent;
            color: var(--accent);
            border: 2px solid var(--accent);
        }

        .tile-btn.secondary:hover {
            background: var(--accent);
            color: white;
        }

        /* ======= Interactive Elements ======= */
        .interactive-demo {
            background: rgba(30, 41, 59, 0.4);
            border: 1px solid var(--border);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .interactive-demo h4 {
            color: var(--warning);
            margin-bottom: 15px;
            font-size: 18px;
        }

        .orbital-diagram {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        .orbital {
            width: 60px;
            height: 60px;
            border: 2px solid var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            background: var(--card);
            color: var(--light);
            font-weight: bold;
        }

        .orbital:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(6, 182, 212, 0.4);
        }

        .orbital.filled {
            background: var(--accent);
            color: white;
        }

        .orbital.half-filled {
            background: linear-gradient(90deg, var(--accent) 50%, transparent 50%);
            color: var(--accent);
        }

        /* ======= Footer (Consistent with main app) ======= */
        .app-footer {
            background: var(--card);
            border-top: 2px solid var(--border);
            padding: 30px 20px;
            text-align: center;
            color: var(--light);
            opacity: 0.7;
        }

        /* ======= Responsive Design ======= */
        @media (max-width: 768px) {
            .study-tiles {
                grid-template-columns: 1fr;
            }
            
            .page-title h1 {
                font-size: 36px;
                flex-direction: column;
                gap: 10px;
            }
            
            .study-tile {
                padding: 30px;
                min-height: 250px;
            }
            
            .tile-header h2 {
                font-size: 24px;
            }
            
            .tile-actions {
                flex-direction: column;
            }
            
            .tile-btn {
                width: 100%;
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .main {
                padding: 20px 15px;
            }
            
            .study-tile {
                padding: 25px;
            }
            
            .page-title h1 {
                font-size: 28px;
            }
        }

        /* ======= Detailed Content Styles ======= */
        .content-section {
            margin-bottom: 50px;
        }

        .content-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(30, 41, 59, 0.3);
            border-radius: 20px;
            border: 1px solid var(--border);
        }

        .content-card {
            background: var(--card);
            border: 2px solid var(--border);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            transition: all 0.3s ease;
        }

        .content-card:hover {
            border-color: var(--accent);
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(6, 182, 212, 0.2);
        }

        /* A-Level Chemistry Specification Checklist */
        .spec-section {
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(30, 41, 59, 0.2);
            border-radius: 15px;
            border: 1px solid var(--border);
        }

        .spec-section h4 {
            margin-bottom: 20px;
            font-weight: 600;
        }

        .spec-checklist {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .spec-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(30, 41, 59, 0.3);
            border-radius: 10px;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .spec-item:hover {
            border-color: var(--accent);
            background: rgba(30, 41, 59, 0.4);
        }

        .spec-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: var(--success);
            cursor: pointer;
        }

        .spec-item label {
            flex: 1;
            color: var(--light);
            font-size: 14px;
            line-height: 1.4;
            cursor: pointer;
            margin: 0;
        }

        .spec-item.completed {
            background: rgba(16, 185, 129, 0.1);
            border-color: var(--success);
        }

        .spec-item.completed label {
            color: var(--success);
            text-decoration: line-through;
            opacity: 0.8;
        }

        .spec-code {
            background: var(--accent);
            color: white;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: bold;
            font-family: 'Courier New', monospace;
            min-width: 60px;
            text-align: center;
        }

        /* Progress Bar */
        .spec-progress {
            margin: 30px 0;
            text-align: center;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: rgba(30, 41, 59, 0.4);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 15px;
            border: 2px solid var(--border);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success), var(--accent));
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 8px;
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            color: var(--light);
            font-size: 14px;
            font-weight: 600;
        }

        .progress-text span:first-child {
            color: var(--success);
        }

        .progress-text span:last-child {
            color: var(--accent);
        }

        /* Specification Details */
        .spec-details {
            margin-top: 20px;
        }

        .spec-detail-item {
            background: rgba(30, 41, 59, 0.4);
            border: 2px solid var(--accent);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .spec-detail-item h4 {
            color: var(--warning);
            margin-bottom: 20px;
            font-size: 18px;
            border-bottom: 2px solid var(--warning);
            padding-bottom: 10px;
        }

        .detail-content p {
            color: var(--light);
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .detail-content ul {
            color: var(--light);
            margin-bottom: 20px;
            padding-left: 20px;
        }

        .detail-content li {
            margin-bottom: 8px;
            line-height: 1.5;
        }

        .detail-content strong {
            color: var(--accent);
        }

        /* Practice Modal */
        .practice-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .practice-content {
            background: var(--card);
            border: 2px solid var(--accent);
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .practice-content h3 {
            color: var(--accent);
            margin-bottom: 20px;
            text-align: center;
        }

        .practice-content p {
            color: var(--light);
            margin-bottom: 20px;
            font-size: 16px;
            line-height: 1.5;
        }

        .practice-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
        }

        .practice-option {
            background: rgba(30, 41, 59, 0.4);
            border: 2px solid var(--border);
            border-radius: 10px;
            padding: 15px;
            color: var(--light);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .practice-option:hover {
            border-color: var(--accent);
            background: rgba(30, 41, 59, 0.6);
        }

        .practice-option.correct {
            background: rgba(16, 185, 129, 0.2);
            border-color: var(--success);
            color: var(--success);
        }

        .practice-option.incorrect {
            background: rgba(239, 68, 68, 0.2);
            border-color: #ef4444;
            color: #ef4444;
        }

        .practice-explanation {
            background: rgba(6, 182, 212, 0.1);
            border: 1px solid var(--accent);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
        }

        .practice-explanation p {
            margin: 0;
            color: var(--accent);
        }

        /* Interactive Atom Builder */
        .atom-builder {
            background: rgba(30, 41, 59, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
        }

        .element-selector {
            margin-bottom: 25px;
            text-align: center;
        }

        .element-selector label {
            color: var(--light);
            font-weight: 600;
            margin-right: 15px;
        }

        .element-selector select {
            background: var(--card);
            color: var(--light);
            border: 2px solid var(--border);
            border-radius: 8px;
            padding: 10px 15px;
            font-size: 14px;
            cursor: pointer;
        }

        .element-selector select:focus {
            outline: none;
            border-color: var(--accent);
        }

        .configuration-display {
            text-align: center;
            margin-top: 25px;
            padding: 20px;
            background: rgba(30, 41, 59, 0.4);
            border-radius: 15px;
        }

        .configuration-display h4 {
            color: var(--warning);
            margin-bottom: 15px;
        }

        .config-text {
            background: var(--bg);
            color: var(--accent);
            padding: 15px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 20px;
            border: 2px solid var(--accent);
        }

        /* Importance Grid */
        .importance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .importance-item {
            background: rgba(30, 41, 59, 0.4);
            border: 1px solid var(--border);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .importance-item:hover {
            border-color: var(--success);
            transform: translateY(-3px);
        }

        .importance-icon {
            font-size: 32px;
            margin-bottom: 15px;
            display: block;
        }

        .importance-item h4 {
            color: var(--success);
            margin-bottom: 10px;
            font-size: 16px;
        }

        .importance-item p {
            color: var(--light);
            margin: 0;
            font-size: 14px;
            line-height: 1.4;
        }

        /* Progress Tracker */
        .progress-tracker {
            margin: 25px 0;
        }

        .progress-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(30, 41, 59, 0.3);
            border-radius: 10px;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }

        .progress-item.completed {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid var(--success);
        }

        .progress-checkbox {
            font-size: 20px;
            color: var(--border);
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .progress-item.completed .progress-checkbox {
            color: var(--success);
        }

        .progress-text {
            color: var(--light);
            font-size: 16px;
        }

        .progress-item.completed .progress-text {
            color: var(--success);
            text-decoration: line-through;
            opacity: 0.7;
        }

        /* Interactive Orbital Display */
        .orbital-diagram {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin: 25px 0;
            min-height: 100px;
        }

        .orbital {
            background: var(--card);
            border: 3px solid var(--border);
            border-radius: 12px;
            padding: 20px;
            min-width: 80px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            font-size: 16px;
            color: var(--light);
        }

        .orbital:hover {
            border-color: var(--accent);
            transform: translateY(-3px);
            box-shadow: 0 8px 16px rgba(6, 182, 212, 0.2);
        }

        .orbital.half-filled {
            border-color: var(--warning);
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }

        .orbital.filled {
            border-color: var(--success);
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .orbital.half-filled:hover,
        .orbital.filled:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 16px rgba(16, 185, 129, 0.3);
        }
    </style>
</head>
<body>
    <!-- ======= Header (Consistent with main app) ======= -->
    <header class="app-header">
        <div class="brand">
            <div class="header-logo">
                <div class="logo-image">
                    <div class="logo-placeholder">
                        <div class="logo-scientist">
                            <div class="logo-hair-purple"></div>
                            <div class="logo-face-skin"></div>
                            <div class="logo-eyes-blue"></div>
                            <div class="logo-glasses-round"></div>
                            <div class="logo-smile-friendly"></div>
                            <div class="logo-labcoat-white"></div>
                            <div class="logo-tie-purple"></div>
                        </div>
                        <div class="logo-science-elements">
                            <div class="logo-atom-white"></div>
                            <div class="logo-atom-white"></div>
                            <div class="logo-beaker-purple"></div>
                            <div class="logo-beaker-purple"></div>
                            <div class="logo-syringe-white"></div>
                            <div class="logo-syringe-white"></div>
                            <div class="logo-star-white"></div>
                            <div class="logo-star-white"></div>
                            <div class="logo-star-white"></div>
                            <div class="logo-star-white"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="brand-text">
                <h1>Electron Towers</h1>
                <p class="subtitle">v0.16r8 — Study Guide & Learning Resources</p>
            </div>
        </div>
        <div class="right">
            <a href="index.html" class="btn ghost"><span class="custom-emoji emoji-atom"></span> Back to App</a>
            <button class="btn primary"><span class="custom-emoji emoji-study"></span> Start Learning</button>
        </div>
    </header>

    <!-- ======= Main Content ======= -->
    <main class="main">
        <div class="page-title">
            <h1>
                <span class="custom-emoji emoji-study"></span>
                Master Electron Configuration
                <span class="custom-emoji emoji-atom"></span>
            </h1>
            <p>Comprehensive study guide for understanding atomic structure and electron behavior</p>
        </div>

        <!-- ======= Big Study Tiles ======= -->
        <div class="study-tiles">
            <!-- Overview Tile -->
            <div class="study-tile overview">
                <div class="tile-header">
                    <h2>
                        <span class="custom-emoji emoji-study"></span>
                        Overview
                    </h2>
                    <p>Master the fundamental principles of electron arrangement in atoms</p>
                </div>
                <div class="tile-content">
                    <ul class="tile-features">
                        <li><strong>Aufbau Principle:</strong> How electrons fill orbitals in order of increasing energy</li>
                        <li><strong>Hund's Rule:</strong> Why electrons prefer to occupy separate orbitals with parallel spins</li>
                        <li><strong>Pauli Exclusion Principle:</strong> Why no two electrons can have identical quantum numbers</li>
                        <li><strong>Exceptions:</strong> Special cases like Chromium (Cr) and Copper (Cu)</li>
                        <li><strong>Ion Formation:</strong> How atoms gain or lose electrons to form ions</li>
                        <li><strong>Octet Rule:</strong> Why atoms seek 8 valence electrons for stability</li>
                    </ul>
                </div>
                <div class="tile-actions">
                    <button class="tile-btn" onclick="showSection('overview')">Learn More</button>
                    <button class="tile-btn secondary" onclick="startOverview()">Begin Journey</button>
                </div>
            </div>

            <!-- Core Rules Tile -->
            <div class="study-tile rules">
                <div class="tile-header">
                    <h2>
                        <span class="custom-emoji emoji-atom"></span>
                        Core Rules
                    </h2>
                    <p>The three fundamental principles that govern electron behavior</p>
                </div>
                <div class="tile-content">
                    <ul class="tile-features">
                        <li><strong>Aufbau:</strong> Electrons fill lowest energy orbitals first</li>
                        <li><strong>Hund's:</strong> Parallel spins before pairing in degenerate orbitals</li>
                        <li><strong>Pauli:</strong> No two electrons can have identical quantum numbers</li>
                        <li><strong>Energy Order:</strong> 1s → 2s → 2p → 3s → 3p → 4s → 3d → 4p...</li>
                        <li><strong>Diagonal Pattern:</strong> Follow the energy level progression</li>
                    </ul>
                </div>
                <div class="tile-actions">
                    <button class="tile-btn" onclick="showSection('rules')">Explore Rules</button>
                    <button class="tile-btn secondary" onclick="demonstrateRules()">Interactive Demo</button>
                </div>
            </div>

            <!-- Exceptions Tile -->
            <div class="study-tile exceptions">
                <div class="tile-header">
                    <h2>
                        <span class="custom-emoji emoji-star"></span>
                        Exceptions
                    </h2>
                    <p>Special cases where elements break the standard rules for stability</p>
                </div>
                <div class="tile-content">
                    <ul class="tile-features">
                        <li><strong>Chromium (Cr):</strong> [Ar] 4s¹ 3d⁵ instead of [Ar] 4s² 3d⁴</li>
                        <li><strong>Copper (Cu):</strong> [Ar] 4s¹ 3d¹⁰ instead of [Ar] 4s² 3d⁹</li>
                        <li><strong>Molybdenum (Mo):</strong> [Kr] 5s¹ 4d⁵ (half-filled d-subshell)</li>
                        <li><strong>Silver (Ag):</strong> [Kr] 5s¹ 4d¹⁰ (filled d-subshell)</li>
                        <li><strong>Why Exceptions:</strong> Half-filled and filled subshells provide extra stability</li>
                    </ul>
                </div>
                <div class="tile-actions">
                    <button class="tile-btn" onclick="showSection('exceptions')">Study Exceptions</button>
                    <button class="tile-btn secondary" onclick="explainExceptions()">Learn Why</button>
                </div>
            </div>

            <!-- Ion Formation Tile -->
            <div class="study-tile ions">
                <div class="tile-header">
                    <h2>
                        <span class="custom-emoji emoji-beaker"></span>
                        Ion Formation
                    </h2>
                    <p>How atoms gain or lose electrons to achieve stability</p>
                </div>
                <div class="tile-content">
                    <ul class="tile-features">
                        <li><strong>Cations:</strong> Atoms lose electrons to form positive ions</li>
                        <li><strong>Anions:</strong> Atoms gain electrons to form negative ions</li>
                        <li><strong>Electron Loss Priority:</strong> Highest n value first, then highest l value</li>
                        <li><strong>Octet Rule:</strong> Atoms seek 8 valence electrons for stability</li>
                        <li><strong>Examples:</strong> Na⁺, Ca²⁺, Cl⁻, O²⁻</li>
                    </ul>
                </div>
                <div class="tile-actions">
                    <button class="tile-btn" onclick="showSection('ions')">Study Ions</button>
                    <button class="tile-btn secondary" onclick="ionExamples()">See Examples</button>
                </div>
            </div>

            <!-- Practice Tile -->
            <div class="study-tile practice">
                <div class="tile-header">
                    <h2>
                        <span class="custom-emoji emoji-syringe"></span>
                        Practice
                    </h2>
                    <p>Interactive problems to test your understanding</p>
                </div>
                <div class="tile-content">
                    <ul class="tile-features">
                        <li><strong>Problem 1:</strong> Write electron configuration for Vanadium (V)</li>
                        <li><strong>Problem 2:</strong> Predict ion formed by Calcium (Ca)</li>
                        <li><strong>Problem 3:</strong> Explain why Chromium is an exception</li>
                        <li><strong>Step-by-step:</strong> Solutions with detailed explanations</li>
                        <li><strong>Interactive:</strong> Click to reveal solutions</li>
                    </ul>
                </div>
                <div class="tile-actions">
                    <button class="tile-btn" onclick="showSection('practice')">Start Practice</button>
                    <button class="tile-btn secondary" onclick="showProblems()">View Problems</button>
                </div>
            </div>

            <!-- Assessment Tile -->
            <div class="study-tile assessment">
                <div class="tile-header">
                    <h2>
                        <span class="custom-emoji emoji-nucleus"></span>
                        Assessment
                    </h2>
                    <p>Test your knowledge with interactive quizzes</p>
                </div>
                <div class="tile-content">
                    <ul class="tile-features">
                        <li><strong>3 Questions:</strong> Covering all major concepts</li>
                        <li><strong>Immediate Feedback:</strong> Know right away if you're correct</li>
                        <li><strong>Score Calculation:</strong> Percentage and personalized feedback</li>
                        <li><strong>Reset Option:</strong> Take the quiz multiple times</li>
                        <li><strong>Learning Focus:</strong> Identify areas for improvement</li>
                    </ul>
                </div>
                <div class="tile-actions">
                    <button class="tile-btn" onclick="showSection('assessment')">Take Quiz</button>
                    <button class="tile-btn secondary" onclick="startAssessment()">Begin Test</button>
                </div>
            </div>
        </div>

        <!-- ======= Detailed Content Sections ======= -->
        <div id="detailedContent" style="display: none;">
            <!-- Overview Section -->
            <div id="overviewContent" class="content-section">
                <div class="content-header">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <button class="btn ghost" onclick="hideDetailedContent()" style="display: flex; align-items: center; gap: 8px;">
                            <span class="custom-emoji emoji-atom"></span>
                            ← Back to Tiles
                        </button>
                        <div style="flex: 1; text-align: center;">
                            <h2 style="color: var(--accent); font-size: 36px; margin: 0; display: flex; align-items: center; gap: 15px; justify-content: center;">
                                <span class="custom-emoji emoji-study"></span>
                                Overview - Master Electron Configuration
                            </h2>
                        </div>
                        <div style="width: 120px;"></div> <!-- Spacer for centering -->
                    </div>
                    <p style="color: var(--light); font-size: 18px; margin-bottom: 30px; opacity: 0.8;">
                        Welcome to your comprehensive journey into the world of electron configurations. This overview will introduce you to the fundamental concepts that govern how electrons arrange themselves in atoms.
                    </p>
                </div>

                <!-- A-Level Chemistry Specification Checklist -->
                <div class="content-card">
                    <h3 style="color: var(--warning); font-size: 24px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                        <span class="custom-emoji emoji-atom"></span>
                        A-Level Chemistry Specification Checklist
                    </h3>
                    <p style="color: var(--light); margin-bottom: 20px; font-style: italic;">
                        Interactive checklist covering all A-Level Chemistry requirements for atomic structure and electron configuration
                    </p>
                    
                    <!-- Core Concepts Section -->
                    <div class="spec-section">
                        <h4 style="color: var(--accent); font-size: 18px; margin-bottom: 15px; border-bottom: 2px solid var(--accent); padding-bottom: 5px;">
                            📚 Core Concepts (AS Level)
                        </h4>
                        <div class="spec-checklist">
                            <div class="spec-item" data-spec="as-1">
                                <input type="checkbox" id="as-1" onchange="updateSpecProgress()">
                                <label for="as-1">Understand the structure of the atom in terms of protons, neutrons, and electrons</label>
                                <span class="spec-code">AS 2.1.1</span>
                            </div>
                            <div class="spec-item" data-spec="as-2">
                                <input type="checkbox" id="as-2" onchange="updateSpecProgress()">
                                <label for="as-2">Define atomic number and mass number</label>
                                <span class="spec-code">AS 2.1.2</span>
                            </div>
                            <div class="spec-item" data-spec="as-3">
                                <input type="checkbox" id="as-3" onchange="updateSpecProgress()">
                                <label for="as-3">Understand the concept of isotopes</label>
                                <span class="spec-code">AS 2.1.3</span>
                            </div>
                            <div class="spec-item" data-spec="as-4">
                                <input type="checkbox" id="as-4" onchange="updateSpecProgress()">
                                <label for="as-4">Explain the arrangement of electrons in shells and sub-shells</label>
                                <span class="spec-code">AS 2.1.4</span>
                            </div>
                            <div class="spec-item" data-spec="as-5">
                                <input type="checkbox" id="as-5" onchange="updateSpecProgress()">
                                <label for="as-5">Write electron configurations for elements up to Z=36</label>
                                <span class="spec-code">AS 2.1.5</span>
                            </div>
                            <div class="spec-item" data-spec="as-6">
                                <input type="checkbox" id="as-6" onchange="updateSpecProgress()">
                                <label for="as-6">Understand the relationship between electron configuration and position in the periodic table</label>
                                <span class="spec-code">AS 2.1.6</span>
                            </div>
                        </div>
                    </div>

                    <!-- Advanced Concepts Section -->
                    <div class="spec-section">
                        <h4 style="color: var(--success); font-size: 18px; margin-bottom: 15px; border-bottom: 2px solid var(--success); padding-bottom: 5px;">
                            🎯 Advanced Concepts (A2 Level)
                        </h4>
                        <div class="spec-checklist">
                            <div class="spec-item" data-spec="a2-1">
                                <input type="checkbox" id="a2-1" onchange="updateSpecProgress()">
                                <label for="a2-1">Explain the Aufbau principle and its exceptions</label>
                                <span class="spec-code">A2 2.1.7</span>
                            </div>
                            <div class="spec-item" data-spec="a2-2">
                                <input type="checkbox" id="a2-2" onchange="updateSpecProgress()">
                                <label for="a2-2">Apply Hund's rule to electron configurations</label>
                                <span class="spec-code">A2 2.1.8</span>
                            </div>
                            <div class="spec-item" data-spec="a2-3">
                                <input type="checkbox" id="a2-3" onchange="updateSpecProgress()">
                                <label for="a2-3">Understand the Pauli exclusion principle</label>
                                <span class="spec-code">A2 2.1.9</span>
                            </div>
                            <div class="spec-item" data-spec="a2-4">
                                <input type="checkbox" id="a2-4" onchange="updateSpecProgress()">
                                <label for="a2-4">Explain why Cr and Cu have exceptional electron configurations</label>
                                <span class="spec-code">A2 2.1.10</span>
                            </div>
                            <div class="spec-item" data-spec="a2-5">
                                <input type="checkbox" id="a2-5" onchange="updateSpecProgress()">
                                <label for="a2-5">Understand ion formation and oxidation states</label>
                                <span class="spec-code">A2 2.1.11</span>
                            </div>
                            <div class="spec-item" data-spec="a2-6">
                                <input type="checkbox" id="a2-6" onchange="updateSpecProgress()">
                                <label for="a2-6">Apply the octet rule to predict ion formation</label>
                                <span class="spec-code">A2 2.1.12</span>
                            </div>
                        </div>
                    </div>

                    <!-- Practical Skills Section -->
                    <div class="spec-section">
                        <h4 style="color: var(--warning); font-size: 18px; margin-bottom: 15px; border-bottom: 2px solid var(--warning); padding-bottom: 5px;">
                            🔬 Practical Skills & Applications
                        </h4>
                        <div class="spec-checklist">
                            <div class="spec-item" data-spec="prac-1">
                                <input type="checkbox" id="prac-1" onchange="updateSpecProgress()">
                                <label for="prac-1">Use spectroscopic data to determine electron configurations</label>
                                <span class="spec-code">Prac 2.1</span>
                            </div>
                            <div class="spec-item" data-spec="prac-2">
                                <input type="checkbox" id="prac-2" onchange="updateSpecProgress()">
                                <label for="prac-2">Predict chemical properties based on electron configuration</label>
                                <span class="spec-code">Prac 2.2</span>
                            </div>
                            <div class="spec-item" data-spec="prac-3">
                                <input type="checkbox" id="prac-3" onchange="updateSpecProgress()">
                                <label for="prac-3">Explain periodic trends using electron configuration</label>
                                <span class="spec-code">Prac 2.3</span>
                            </div>
                            <div class="spec-item" data-spec="prac-4">
                                <input type="checkbox" id="prac-4" onchange="updateSpecProgress()">
                                <label for="prac-4">Analyze ion formation in chemical reactions</label>
                                <span class="spec-code">Prac 2.4</span>
                            </div>
                        </div>
                    </div>

                    <!-- Progress Summary -->
                    <div class="spec-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" id="specProgressFill"></div>
                        </div>
                        <div class="progress-text">
                            <span id="specProgressText">0% Complete</span>
                            <span id="specProgressCount">0/16 specifications covered</span>
                        </div>
                    </div>

                    <button class="tile-btn" onclick="resetSpecProgress()">Reset Progress</button>
                    <button class="tile-btn secondary" onclick="exportSpecProgress()">Export Progress</button>
                </div>

                <!-- Detailed Specification Explanations -->
                <div class="content-card">
                    <h3 style="color: var(--accent); font-size: 24px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                        <span class="custom-emoji emoji-beaker"></span>
                        Specification Details & Examples
                    </h3>
                    <p style="color: var(--light); margin-bottom: 20px;">
                        Click on any specification point above to see detailed explanations, examples, and practice questions.
                    </p>
                    
                    <div class="spec-details" id="specDetails">
                        <div class="spec-detail-item" id="detail-as-1" style="display: none;">
                            <h4 style="color: var(--warning); margin-bottom: 15px;">AS 2.1.1 - Atomic Structure</h4>
                            <div class="detail-content">
                                <p><strong>What you need to know:</strong></p>
                                <ul>
                                    <li>Atoms consist of a nucleus (protons + neutrons) surrounded by electrons</li>
                                    <li>Protons have positive charge (+1), neutrons are neutral (0), electrons have negative charge (-1)</li>
                                    <li>Protons and neutrons have similar mass (~1 amu), electrons are much lighter (~1/1840 amu)</li>
                                    <li>Most of the atom's volume is empty space occupied by electrons</li>
                                </ul>
                                <p><strong>Key Formula:</strong> Mass Number = Protons + Neutrons</p>
                                <p><strong>Example:</strong> Carbon-12 has 6 protons and 6 neutrons, giving mass number 12</p>
                                <button class="tile-btn" onclick="showPracticeQuestion('as-1')">Practice Question</button>
                            </div>
                        </div>

                        <div class="spec-detail-item" id="detail-as-2" style="display: none;">
                            <h4 style="color: var(--warning); margin-bottom: 15px;">AS 2.1.2 - Atomic Number & Mass Number</h4>
                            <div class="detail-content">
                                <p><strong>What you need to know:</strong></p>
                                <ul>
                                    <li>Atomic number (Z) = number of protons = number of electrons (in neutral atom)</li>
                                    <li>Mass number (A) = number of protons + number of neutrons</li>
                                    <li>Isotopes have same atomic number but different mass numbers</li>
                                    <li>Elements are defined by their atomic number</li>
                                </ul>
                                <p><strong>Key Formula:</strong> Number of Neutrons = Mass Number - Atomic Number</p>
                                <p><strong>Example:</strong> Oxygen-16: Z=8, A=16, so 8 protons, 8 electrons, 8 neutrons</p>
                                <button class="tile-btn" onclick="showPracticeQuestion('as-2')">Practice Question</button>
                            </div>
                        </div>

                        <div class="spec-detail-item" id="detail-as-5" style="display: none;">
                            <h4 style="color: var(--warning); margin-bottom: 15px;">AS 2.1.5 - Electron Configurations</h4>
                            <div class="detail-content">
                                <p><strong>What you need to know:</strong></p>
                                <ul>
                                    <li>Electrons fill orbitals in order of increasing energy: 1s → 2s → 2p → 3s → 3p → 4s → 3d → 4p</li>
                                    <li>s-orbitals hold 2 electrons, p-orbitals hold 6, d-orbitals hold 10</li>
                                    <li>Use superscripts to show number of electrons in each orbital</li>
                                    <li>Noble gas notation: [Ne] 3s² 3p⁴ for Sulfur</li>
                                </ul>
                                <p><strong>Examples:</strong></p>
                                <ul>
                                    <li>Carbon (Z=6): 1s² 2s² 2p²</li>
                                    <li>Neon (Z=10): 1s² 2s² 2p⁶</li>
                                    <li>Sodium (Z=11): 1s² 2s² 2p⁶ 3s¹</li>
                                </ul>
                                <button class="tile-btn" onclick="showPracticeQuestion('as-5')">Practice Question</button>
                            </div>
                        </div>

                        <div class="spec-detail-item" id="detail-a2-1" style="display: none;">
                            <h4 style="color: var(--warning); margin-bottom: 15px;">A2 2.1.7 - Aufbau Principle & Exceptions</h4>
                            <div class="detail-content">
                                <p><strong>What you need to know:</strong></p>
                                <ul>
                                    <li>Electrons fill orbitals in order of increasing energy (Aufbau principle)</li>
                                    <li>Exceptions occur when half-filled or filled d-subshells provide extra stability</li>
                                    <li>Chromium: [Ar] 4s¹ 3d⁵ (not 4s² 3d⁴) - half-filled d-subshell</li>
                                    <li>Copper: [Ar] 4s¹ 3d¹⁰ (not 4s² 3d⁹) - filled d-subshell</li>
                                </ul>
                                <p><strong>Why exceptions occur:</strong></p>
                                <ul>
                                    <li>Half-filled d-subshells have maximum unpaired electrons (Hund's rule)</li>
                                    <li>Filled d-subshells have maximum stability</li>
                                    <li>Energy difference between 4s and 3d is small</li>
                                </ul>
                                <button class="tile-btn" onclick="showPracticeQuestion('a2-1')">Practice Question</button>
                            </div>
                        </div>

                        <div class="spec-detail-item" id="detail-a2-2" style="display: none;">
                            <h4 style="color: var(--warning); margin-bottom: 15px;">A2 2.1.8 - Hund's Rule</h4>
                            <div class="detail-content">
                                <p><strong>What you need to know:</strong></p>
                                <ul>
                                    <li>Electrons prefer to occupy separate orbitals with parallel spins before pairing</li>
                                    <li>This maximizes total spin and follows the principle of maximum multiplicity</li>
                                    <li>Unpaired electrons have parallel spins (↑ ↑ ↑) rather than paired (↑↓)</li>
                                    <li>Applies to p, d, and f orbitals</li>
                                </ul>
                                <p><strong>Examples:</strong></p>
                                <ul>
                                    <li>Carbon p-subshell: ↑ ↑ (not ↑↓) - 2 unpaired electrons</li>
                                    <li>Nitrogen p-subshell: ↑ ↑ ↑ - 3 unpaired electrons</li>
                                    <li>Oxygen p-subshell: ↑↓ ↑ ↑ - 2 unpaired electrons</li>
                                </ul>
                                <button class="tile-btn" onclick="showPracticeQuestion('a2-2')">Practice Question</button>
                            </div>
                        </div>

                        <div class="spec-detail-item" id="detail-a2-3" style="display: none;">
                            <h4 style="color: var(--warning); margin-bottom: 15px;">A2 2.1.9 - Pauli Exclusion Principle</h4>
                            <div class="detail-content">
                                <p><strong>What you need to know:</strong></p>
                                <ul>
                                    <li>No two electrons in an atom can have identical quantum numbers</li>
                                    <li>Each orbital can hold at most 2 electrons with opposite spins</li>
                                    <li>Electrons in the same orbital must have opposite spins (↑↓)</li>
                                    <li>This principle explains why atoms have different energy levels</li>
                                </ul>
                                <p><strong>Quantum Numbers:</strong></p>
                                <ul>
                                    <li>n (principal): energy level (1, 2, 3...)</li>
                                    <li>l (azimuthal): orbital shape (s=0, p=1, d=2, f=3)</li>
                                    <li>m (magnetic): orbital orientation</li>
                                    <li>s (spin): electron spin (+½ or -½)</li>
                                </ul>
                                <button class="tile-btn" onclick="showPracticeQuestion('a2-3')">Practice Question</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Interactive Atom Builder -->
                <div class="content-card">
                    <h3 style="color: var(--accent); font-size: 24px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                        <span class="custom-emoji emoji-electron"></span>
                        Interactive Atom Builder
                    </h3>
                    <p style="color: var(--light); margin-bottom: 20px;">
                        Build an atom step by step to see how electrons fill orbitals. Click on orbitals to add electrons and watch the configuration build up!
                    </p>
                    <div class="atom-builder">
                        <div class="element-selector">
                            <label for="elementSelect">Choose an element:</label>
                            <select id="elementSelect" onchange="changeElement()">
                                <option value="1">Hydrogen (H) - Z=1</option>
                                <option value="2">Helium (He) - Z=2</option>
                                <option value="6">Carbon (C) - Z=6</option>
                                <option value="8">Oxygen (O) - Z=8</option>
                                <option value="10">Neon (Ne) - Z=10</option>
                                <option value="11">Sodium (Na) - Z=11</option>
                                <option value="18">Argon (Ar) - Z=18</option>
                                <option value="20">Calcium (Ca) - Z=20</option>
                            </select>
                        </div>
                        <div class="orbital-diagram" id="interactiveOrbitals">
                            <!-- Orbitals will be generated here -->
                        </div>
                        <div class="configuration-display">
                            <h4>Current Configuration:</h4>
                            <div id="configDisplay" class="config-text">1s¹</div>
                            <button class="tile-btn" onclick="resetAtom()">Reset Atom</button>
                            <button class="tile-btn secondary" onclick="autoFill()">Auto-Fill</button>
                        </div>
                    </div>
                </div>

                <!-- Why It Matters -->
                <div class="content-card">
                    <h3 style="color: var(--success); font-size: 24px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                        <span class="custom-emoji emoji-beaker"></span>
                        Why Electron Configurations Matter
                    </h3>
                    <p style="color: var(--light); margin-bottom: 20px;">
                        Electron configurations determine an element's chemical properties, reactivity, and bonding behavior. Understanding these principles is essential for:
                    </p>
                    <div class="importance-grid">
                        <div class="importance-item">
                            <div class="importance-icon">🧪</div>
                            <h4>Chemical Reactions</h4>
                            <p>Predict how elements will react with each other</p>
                        </div>
                        <div class="importance-item">
                            <div class="importance-icon">📊</div>
                            <h4>Periodic Trends</h4>
                            <p>Understand patterns across the periodic table</p>
                        </div>
                        <div class="importance-item">
                            <div class="importance-icon">🔗</div>
                            <h4>Bonding Patterns</h4>
                            <p>Explain how atoms form molecules</p>
                        </div>
                        <div class="importance-item">
                            <div class="importance-icon">🏗️</div>
                            <h4>Material Design</h4>
                            <p>Create new materials with desired properties</p>
                        </div>
                    </div>
                </div>

                <!-- Progress Tracker -->
                <div class="content-card">
                    <h3 style="color: var(--warning); font-size: 24px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                        <span class="custom-emoji emoji-energy"></span>
                        Your Learning Progress
                    </h3>
                    <div class="progress-tracker">
                        <div class="progress-item" data-completed="false">
                            <span class="progress-checkbox">☐</span>
                            <span class="progress-text">Complete Overview</span>
                        </div>
                        <div class="progress-item" data-completed="false">
                            <span class="progress-checkbox">☐</span>
                            <span class="progress-text">Build 3 different atoms</span>
                        </div>
                        <div class="progress-item" data-completed="false">
                            <span class="progress-checkbox">☐</span>
                            <span class="progress-text">Understand learning objectives</span>
                        </div>
                        <div class="progress-item" data-completed="false">
                            <span class="progress-checkbox">☐</span>
                            <span class="progress-text">Explore importance section</span>
                        </div>
                    </div>
                    <button class="tile-btn" onclick="markProgress()">Mark Progress</button>
                </div>
            </div>
        </div>

        <!-- ======= Call to Action ======= -->
        <div style="text-align: center; margin: 50px 0;">
            <h2 style="color: var(--accent); margin-bottom: 20px; font-size: 32px;">
                <span class="custom-emoji emoji-game"></span>
                Ready to Practice?
                <span class="custom-emoji emoji-study"></span>
            </h2>
            <p style="color: var(--light); font-size: 18px; margin-bottom: 30px; max-width: 600px; margin-left: auto; margin-right: auto;">
                Put your knowledge to the test with interactive electron configuration challenges. Build atoms step by step and master the principles through hands-on experience.
            </p>
            <div style="display: flex; gap: 20px; justify-content: center; flex-wrap: wrap;">
                <a href="index.html" class="btn primary" style="font-size: 16px; padding: 15px 30px;">
                    <span class="custom-emoji emoji-game"></span>
                    Start Interactive App
                </a>
                <button class="btn ghost" style="font-size: 16px; padding: 15px 30px;">
                    <span class="custom-emoji emoji-study"></span>
                    Take Practice Quiz
                </button>
            </div>
        </div>
    </main>

    <!-- ======= Footer (Consistent with main app) ======= -->
    <footer class="app-footer">
        <span><span class="custom-emoji emoji-scientist"></span> © 2025 Electron Towers APP • Mr.Sep Educational Services</span>
    </footer>

    <script>
        // Interactive functionality for the study tiles
        document.addEventListener('DOMContentLoaded', function() {
            // Add hover effects and animations
            const studyTiles = document.querySelectorAll('.study-tile');
            studyTiles.forEach(tile => {
                tile.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-12px) scale(1.03)';
                });
                
                tile.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });

            // Add click effects for buttons
            const buttons = document.querySelectorAll('.tile-btn, .btn');
            buttons.forEach(button => {
                button.addEventListener('click', function() {
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1)';
                    }, 150);
                });
            });
        });

        // Placeholder functions for tile actions
        function showSection(section) {
            console.log('Showing section:', section);
            // This would show detailed content for each section
        }

        function startOverview() {
            console.log('Starting overview journey');
            // This would begin an interactive overview
        }

        function demonstrateRules() {
            console.log('Demonstrating rules');
            // This would show interactive rule demonstrations
        }

        function explainExceptions() {
            console.log('Explaining exceptions');
            // This would provide detailed exception explanations
        }

        function ionExamples() {
            console.log('Showing ion examples');
            // This would display ion formation examples
        }

        function showProblems() {
            console.log('Showing practice problems');
            // This would display practice problems
        }

        function startAssessment() {
            console.log('Starting assessment');
            // This would begin the quiz
        }

        // ======= Overview Tab Interactive Functions =======

        // Show detailed content when clicking on Overview tile
        function showOverviewContent() {
            document.getElementById('detailedContent').style.display = 'block';
            document.getElementById('overviewContent').style.display = 'block';
            document.querySelector('.study-tiles').style.display = 'none';
            document.querySelector('.page-title').style.display = 'none';
            
            // Initialize the interactive atom builder
            initializeAtomBuilder();
        }

        // Hide detailed content and return to tiles
        function hideDetailedContent() {
            document.getElementById('detailedContent').style.display = 'none';
            document.querySelector('.study-tiles').style.display = 'grid';
            document.querySelector('.page-title').style.display = 'block';
        }

        // Show objective details when clicked
        function showObjectiveDetails(objective) {
            const objectives = {
                aufbau: {
                    title: "Aufbau Principle",
                    description: "Electrons fill orbitals in order of increasing energy, following the diagonal pattern: 1s → 2s → 2p → 3s → 3p → 4s → 3d → 4p...",
                    examples: ["Hydrogen: 1s¹", "Helium: 1s²", "Carbon: 1s² 2s² 2p²", "Neon: 1s² 2s² 2p⁶"]
                },
                hund: {
                    title: "Hund's Rule",
                    description: "Electrons prefer to occupy separate orbitals with parallel spins before pairing. This maximizes total spin and follows the principle of maximum multiplicity.",
                    examples: ["Carbon p-subshell: ↑ ↑ (not ↑↓)", "Nitrogen p-subshell: ↑ ↑ ↑", "Oxygen p-subshell: ↑↓ ↑ ↑"]
                },
                pauli: {
                    title: "Pauli Exclusion Principle",
                    description: "No two electrons in an atom can have identical quantum numbers. Each orbital can hold at most 2 electrons with opposite spins.",
                    examples: ["Carbon: 1s² 2s² 2p²", "Nitrogen: 1s² 2s² 2p³", "Oxygen: 1s² 2s² 2p⁴"]
                },
                exceptions: {
                    title: "Notable Exceptions",
                    description: "Some elements break the standard rules for stability, particularly transition metals seeking half-filled or filled d-subshells.",
                    examples: ["Chromium: [Ar] 4s¹ 3d⁵ (not 4s² 3d⁴)", "Copper: [Ar] 4s¹ 3d¹⁰ (not 4s² 3d⁹)"]
                },
                ions: {
                    title: "Ion Formation",
                    description: "Atoms gain or lose electrons to form ions. Cations lose electrons (positive charge), anions gain electrons (negative charge).",
                    examples: ["Na⁺: loses 1 electron", "Ca²⁺: loses 2 electrons", "Cl⁻: gains 1 electron", "O²⁻: gains 2 electrons"]
                },
                octet: {
                    title: "Octet Rule",
                    description: "Atoms tend to gain, lose, or share electrons to achieve 8 valence electrons, providing maximum stability.",
                    examples: ["Neon: 8 valence electrons (stable)", "Sodium: 1 valence electron (unstable)", "Chlorine: 7 valence electrons (unstable)"]
                }
            };

            const obj = objectives[objective];
            if (obj) {
                alert(`${obj.title}\n\n${obj.description}\n\nExamples:\n${obj.examples.join('\n')}`);
            }
        }

        // Interactive Atom Builder
        let currentElement = 1;
        let currentElectrons = 0;
        let maxElectrons = 1;

        function initializeAtomBuilder() {
            changeElement();
        }

        function changeElement() {
            currentElement = parseInt(document.getElementById('elementSelect').value);
            maxElectrons = currentElement;
            currentElectrons = 0;
            
            // Generate orbitals based on element
            generateOrbitals();
            updateConfiguration();
        }

        function generateOrbitals() {
            const container = document.getElementById('interactiveOrbitals');
            container.innerHTML = '';
            
            const orbitals = getOrbitalsForElement(currentElement);
            
            orbitals.forEach(orbital => {
                const orbitalDiv = document.createElement('div');
                orbitalDiv.className = 'orbital';
                orbitalDiv.textContent = orbital.name;
                orbitalDiv.dataset.orbital = orbital.name;
                orbitalDiv.dataset.capacity = orbital.capacity;
                orbitalDiv.dataset.filled = 0;
                orbitalDiv.onclick = () => addElectron(orbitalDiv);
                container.appendChild(orbitalDiv);
            });
        }

        function getOrbitalsForElement(Z) {
            const orbitals = [];
            
            if (Z >= 1) orbitals.push({ name: '1s', capacity: 2 });
            if (Z >= 3) orbitals.push({ name: '2s', capacity: 2 });
            if (Z >= 5) orbitals.push({ name: '2p', capacity: 6 });
            if (Z >= 11) orbitals.push({ name: '3s', capacity: 2 });
            if (Z >= 13) orbitals.push({ name: '3p', capacity: 6 });
            if (Z >= 19) orbitals.push({ name: '4s', capacity: 2 });
            if (Z >= 21) orbitals.push({ name: '3d', capacity: 10 });
            if (Z >= 31) orbitals.push({ name: '4p', capacity: 6 });
            
            return orbitals;
        }

        function addElectron(orbitalDiv) {
            if (currentElectrons >= maxElectrons) return;
            
            const filled = parseInt(orbitalDiv.dataset.filled);
            const capacity = parseInt(orbitalDiv.dataset.capacity);
            
            if (filled < capacity) {
                orbitalDiv.dataset.filled = filled + 1;
                currentElectrons++;
                
                // Update orbital appearance
                if (filled === 0) {
                    orbitalDiv.classList.add('half-filled');
                    orbitalDiv.innerHTML = '↑<br>' + orbitalDiv.dataset.orbital;
                } else if (filled === 1 && capacity === 2) {
                    orbitalDiv.classList.remove('half-filled');
                    orbitalDiv.classList.add('filled');
                    orbitalDiv.innerHTML = '↑↓<br>' + orbitalDiv.dataset.orbital;
                }
                
                updateConfiguration();
            }
        }

        function updateConfiguration() {
            const orbitals = document.querySelectorAll('#interactiveOrbitals .orbital');
            let config = '';
            
            orbitals.forEach(orbital => {
                const filled = parseInt(orbital.dataset.filled);
                if (filled > 0) {
                    const orbitalName = orbital.dataset.orbital;
                    const superscript = filled === 1 ? '¹' : '²';
                    config += orbitalName + superscript + ' ';
                }
            });
            
            document.getElementById('configDisplay').textContent = config.trim() || 'Empty';
        }

        function resetAtom() {
            currentElectrons = 0;
            const orbitals = document.querySelectorAll('#interactiveOrbitals .orbital');
            orbitals.forEach(orbital => {
                orbital.dataset.filled = 0;
                orbital.classList.remove('half-filled', 'filled');
                orbital.textContent = orbital.dataset.orbital;
                orbital.innerHTML = orbital.dataset.orbital;
            });
            updateConfiguration();
        }

        function autoFill() {
            resetAtom();
            
            const orbitals = document.querySelectorAll('#interactiveOrbitals .orbital');
            let electronsToAdd = maxElectrons;
            
            orbitals.forEach(orbital => {
                if (electronsToAdd <= 0) return;
                
                const capacity = parseInt(orbital.dataset.capacity);
                const toAdd = Math.min(electronsToAdd, capacity);
                
                for (let i = 0; i < toAdd; i++) {
                    addElectron(orbital);
                }
                
                electronsToAdd -= toAdd;
            });
        }

        // Progress tracking
        function markProgress() {
            const progressItems = document.querySelectorAll('.progress-item');
            progressItems.forEach(item => {
                item.dataset.completed = 'true';
                item.classList.add('completed');
                const checkbox = item.querySelector('.progress-checkbox');
                checkbox.textContent = '☑';
            });
        }

        // Update tile click handlers to show detailed content
        document.addEventListener('DOMContentLoaded', function() {
            // Update the Overview tile to show detailed content
            const overviewTile = document.querySelector('.study-tile.overview');
            if (overviewTile) {
                const learnMoreBtn = overviewTile.querySelector('.tile-btn');
                if (learnMoreBtn) {
                    learnMoreBtn.onclick = showOverviewContent;
                }
            }

            // Initialize specification progress from localStorage
            initializeSpecProgress();

            // Make specification items clickable to show details
            makeSpecItemsClickable();
        });

        function makeSpecItemsClickable() {
            const specItems = document.querySelectorAll('.spec-item');
            specItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    // Don't trigger if clicking on checkbox or label
                    if (e.target.type === 'checkbox' || e.target.tagName === 'LABEL') {
                        return;
                    }
                    
                    const specId = this.getAttribute('data-spec');
                    showSpecDetails(specId);
                });
            });
        }

        function showSpecDetails(specId) {
            // Hide all detail items first
            const allDetails = document.querySelectorAll('.spec-detail-item');
            allDetails.forEach(detail => detail.style.display = 'none');
            
            // Show the selected detail item
            const detailItem = document.getElementById(`detail-${specId}`);
            if (detailItem) {
                detailItem.style.display = 'block';
                detailItem.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }

        function showPracticeQuestion(specId) {
            const questions = {
                'as-1': {
                    question: 'What is the mass number of an atom with 7 protons and 8 neutrons?',
                    options: ['7', '8', '14', '15'],
                    correct: 2,
                    explanation: 'Mass number = protons + neutrons = 7 + 8 = 15'
                },
                'as-2': {
                    question: 'An isotope has atomic number 6 and mass number 14. How many neutrons does it have?',
                    options: ['6', '8', '14', '20'],
                    correct: 1,
                    explanation: 'Neutrons = mass number - atomic number = 14 - 6 = 8'
                },
                'as-5': {
                    question: 'What is the electron configuration of Nitrogen (Z=7)?',
                    options: ['1s² 2s² 2p³', '1s² 2s² 2p⁵', '1s² 2s² 2p⁶', '1s² 2s² 2p⁴'],
                    correct: 0,
                    explanation: 'Nitrogen has 7 electrons: 2 in 1s, 2 in 2s, and 3 in 2p orbitals'
                },
                'a2-1': {
                    question: 'Why does Chromium have the configuration [Ar] 4s¹ 3d⁵ instead of [Ar] 4s² 3d⁴?',
                    options: ['It saves energy', 'Half-filled d-subshell is more stable', 'It follows Hund\'s rule', 'All of the above'],
                    correct: 3,
                    explanation: 'All three reasons: energy saving, stability of half-filled d-subshell, and following Hund\'s rule'
                },
                'a2-2': {
                    question: 'According to Hund\'s rule, how should electrons fill the 2p subshell of Carbon?',
                    options: ['↑↓ ↑ ↑', '↑ ↑ ↑↓', '↑ ↑ ↑', '↑↓ ↑↓ ↑↓'],
                    correct: 0,
                    explanation: 'Hund\'s rule states electrons prefer separate orbitals with parallel spins before pairing'
                },
                'a2-3': {
                    question: 'How many electrons can occupy a single orbital according to the Pauli exclusion principle?',
                    options: ['1', '2', '3', '4'],
                    correct: 1,
                    explanation: 'Each orbital can hold at most 2 electrons with opposite spins'
                }
            };

            const q = questions[specId];
            if (q) {
                let optionsHtml = '';
                q.options.forEach((option, index) => {
                    optionsHtml += `<div class="practice-option" onclick="checkAnswer('${specId}', ${index})">${option}</div>`;
                });

                const modal = document.createElement('div');
                modal.className = 'practice-modal';
                modal.innerHTML = `
                    <div class="practice-content">
                        <h3>Practice Question</h3>
                        <p>${q.question}</p>
                        <div class="practice-options">${optionsHtml}</div>
                        <div class="practice-explanation" id="explanation-${specId}" style="display: none;">
                            <p><strong>Explanation:</strong> ${q.explanation}</p>
                        </div>
                        <button onclick="this.parentElement.parentElement.remove()">Close</button>
                    </div>
                `;
                document.body.appendChild(modal);
            }
        }

        function checkAnswer(specId, selectedIndex) {
            const questions = {
                'as-1': { correct: 2 },
                'as-2': { correct: 1 },
                'as-5': { correct: 0 },
                'a2-1': { correct: 3 },
                'a2-2': { correct: 0 },
                'a2-3': { correct: 1 }
            };

            const q = questions[specId];
            const options = document.querySelectorAll(`#explanation-${specId}`).parentElement.querySelectorAll('.practice-option');
            
            options.forEach((option, index) => {
                option.classList.remove('correct', 'incorrect');
                if (index === q.correct) {
                    option.classList.add('correct');
                } else if (index === selectedIndex) {
                    option.classList.add('incorrect');
                }
            });

            document.getElementById(`explanation-${specId}`).style.display = 'block';
        }

        // ======= Specification Progress Functions =======

        function initializeSpecProgress() {
            const savedProgress = localStorage.getItem('specProgress');
            if (savedProgress) {
                const progress = JSON.parse(savedProgress);
                Object.keys(progress).forEach(specId => {
                    const checkbox = document.getElementById(specId);
                    if (checkbox) {
                        checkbox.checked = progress[specId];
                        updateSpecItemStyle(specId, progress[specId]);
                    }
                });
                updateSpecProgress();
            }
        }

        function updateSpecProgress() {
            const checkboxes = document.querySelectorAll('.spec-item input[type="checkbox"]');
            let completed = 0;
            const total = checkboxes.length;
            
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    completed++;
                    updateSpecItemStyle(checkbox.id, true);
                } else {
                    updateSpecItemStyle(checkbox.id, false);
                }
            });

            const percentage = Math.round((completed / total) * 100);
            const progressFill = document.getElementById('specProgressFill');
            const progressText = document.getElementById('specProgressText');
            const progressCount = document.getElementById('specProgressCount');

            if (progressFill) progressFill.style.width = percentage + '%';
            if (progressText) progressText.textContent = percentage + '% Complete';
            if (progressCount) progressCount.textContent = completed + '/' + total + ' specifications covered';

            // Save progress to localStorage
            saveSpecProgress();
        }

        function updateSpecItemStyle(specId, completed) {
            const specItem = document.querySelector(`[data-spec="${specId}"]`);
            if (specItem) {
                if (completed) {
                    specItem.classList.add('completed');
                } else {
                    specItem.classList.remove('completed');
                }
            }
        }

        function saveSpecProgress() {
            const checkboxes = document.querySelectorAll('.spec-item input[type="checkbox"]');
            const progress = {};
            
            checkboxes.forEach(checkbox => {
                progress[checkbox.id] = checkbox.checked;
            });

            localStorage.setItem('specProgress', JSON.stringify(progress));
        }

        function resetSpecProgress() {
            if (confirm('Are you sure you want to reset all progress? This cannot be undone.')) {
                const checkboxes = document.querySelectorAll('.spec-item input[type="checkbox"]');
                checkboxes.forEach(checkbox => {
                    checkbox.checked = false;
                    updateSpecItemStyle(checkbox.id, false);
                });
                updateSpecProgress();
            }
        }

        function exportSpecProgress() {
            const checkboxes = document.querySelectorAll('.spec-item input[type="checkbox"]');
            let report = 'A-Level Chemistry Specification Progress Report\n';
            report += 'Generated on: ' + new Date().toLocaleDateString() + '\n\n';
            
            const sections = {
                'Core Concepts (AS Level)': ['as-1', 'as-2', 'as-3', 'as-4', 'as-5', 'as-6'],
                'Advanced Concepts (A2 Level)': ['a2-1', 'a2-2', 'a2-3', 'a2-4', 'a2-5', 'a2-6'],
                'Practical Skills & Applications': ['prac-1', 'prac-2', 'prac-3', 'prac-4']
            };

            Object.keys(sections).forEach(sectionName => {
                report += sectionName + ':\n';
                sections[sectionName].forEach(specId => {
                    const checkbox = document.getElementById(specId);
                    const status = checkbox.checked ? '✓ COMPLETED' : '☐ PENDING';
                    const label = checkbox.nextElementSibling.textContent;
                    report += `  ${status}: ${label}\n`;
                });
                report += '\n';
            });

            const totalCompleted = Array.from(checkboxes).filter(cb => cb.checked).length;
            const total = checkboxes.length;
            report += `Overall Progress: ${totalCompleted}/${total} (${Math.round((totalCompleted/total)*100)}%)\n`;

            // Create and download the report
            const blob = new Blob([report], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'chemistry-spec-progress.txt';
            a.click();
            window.URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
